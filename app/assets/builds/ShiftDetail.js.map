{"version":3,"file":"ShiftDetail.js","sources":["../../../social-catering-ui/social-catering-ui/node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../../social-catering-ui/social-catering-ui/node_modules/lucide-react/dist/esm/icons/circle-x.js","../../../social-catering-ui/social-catering-ui/node_modules/@heroicons/react/24/outline/esm/ArrowRightIcon.js","../../../social-catering-ui/social-catering-ui/node_modules/@heroicons/react/24/outline/esm/ExclamationCircleIcon.js","../../../social-catering-ui/social-catering-ui/node_modules/@heroicons/react/24/outline/esm/PencilSquareIcon.js","../../../social-catering-ui/social-catering-ui/node_modules/@heroicons/react/24/outline/esm/TrashIcon.js","../../../social-catering-ui/social-catering-ui/node_modules/@heroicons/react/24/outline/esm/UserPlusIcon.js","../../../social-catering-ui/social-catering-ui/src/components/ShiftStatusWorkflow.tsx","../../../social-catering-ui/social-catering-ui/src/components/ShiftRoster.tsx","../../../social-catering-ui/social-catering-ui/src/pages/ShiftDetail.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.545.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n];\nconst CircleCheckBig = createLucideIcon(\"circle-check-big\", __iconNode);\n\nexport { __iconNode, CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.545.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n];\nconst CircleX = createLucideIcon(\"circle-x\", __iconNode);\n\nexport { __iconNode, CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","import * as React from \"react\";\nfunction ArrowRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ExclamationCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ExclamationCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PencilSquareIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilSquareIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserPlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserPlusIcon);\nexport default ForwardRef;","import { useState } from 'react'\nimport { updateShift, type Shift } from '../services/shiftsApi'\nimport ShiftStatusBadge from './ShiftStatusBadge'\nimport { CheckIcon as Check, ArrowRightIcon as ArrowRight, ExclamationCircleIcon as AlertCircle } from '@heroicons/react/24/outline'\n\ninterface ShiftStatusWorkflowProps {\n  shift: Shift\n  onSuccess: () => void\n}\n\nexport default function ShiftStatusWorkflow({ shift, onSuccess }: ShiftStatusWorkflowProps) {\n  const [updating, setUpdating] = useState(false)\n  const [error, setError] = useState('')\n\n  const statusFlow: Record<string, { next: string | null; label: string; canProgress: boolean }> = {\n    draft: { next: 'published', label: 'Publish Shift', canProgress: true },\n    published: { next: 'assigned', label: 'Mark as Assigned', canProgress: false },\n    assigned: { next: 'completed', label: 'Mark as Completed', canProgress: true },\n    completed: { next: null, label: 'Completed', canProgress: false },\n    cancelled: { next: null, label: 'Cancelled', canProgress: false },\n  }\n\n  const currentFlow = statusFlow[shift.status]\n  const assignedCount = shift.assignments?.length || 0\n  const isFullyStaffed = assignedCount >= shift.capacity\n\n  const canTransitionToAssigned = shift.status === 'published' && isFullyStaffed\n  const nextStatus = canTransitionToAssigned ? 'assigned' : currentFlow?.next\n  const nextLabel = canTransitionToAssigned ? 'Mark as Assigned' : currentFlow?.label\n\n  const handleStatusChange = async (newStatus: string) => {\n    setUpdating(true)\n    setError('')\n    try {\n      await updateShift(shift.id, { status: newStatus as any })\n      onSuccess()\n    } catch (err: any) {\n      setError(err?.response?.data?.error || 'Failed to update status')\n      // eslint-disable-next-line no-console\n      console.error('Error updating status:', err)\n    } finally {\n      setUpdating(false)\n    }\n  }\n\n  const handleCancel = async () => {\n    // eslint-disable-next-line no-alert\n    if (!confirm('Are you sure you want to cancel this shift?')) return\n    setUpdating(true)\n    setError('')\n    try {\n      await updateShift(shift.id, { status: 'cancelled' })\n      onSuccess()\n    } catch (err: any) {\n      setError(err?.response?.data?.error || 'Failed to cancel shift')\n      // eslint-disable-next-line no-console\n      console.error('Error cancelling shift:', err)\n    } finally {\n      setUpdating(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div>\n        <div className=\"text-sm text-gray-500 mb-2\">Current Status</div>\n        <ShiftStatusBadge status={shift.status} />\n      </div>\n\n      <div className=\"space-y-2\">\n        {(['draft', 'published', 'assigned', 'completed'] as const).map((status, index) => {\n          const order = ['draft', 'published', 'assigned', 'completed']\n          const isActive = shift.status === status\n          const isPast = order.indexOf(shift.status) > index\n          const isCancelled = shift.status === 'cancelled'\n\n          return (\n            <div key={status} className=\"flex items-center gap-3\">\n              <div\n                className={`h-8 w-8 rounded-full flex items-center justify-center flex-shrink-0 ${\n                  isPast || isActive ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-500'\n                } ${isCancelled ? 'bg-gray-300' : ''}`}\n              >\n                {isPast ? <Check className=\"h-5 w-5\" /> : <span className=\"text-sm font-medium\">{index + 1}</span>}\n              </div>\n              <div className=\"flex-1\">\n                <div className={`font-medium ${isActive ? 'text-gray-900' : 'text-gray-500'}`}>\n                  {status.charAt(0).toUpperCase() + status.slice(1)}\n                </div>\n                {isActive && status === 'published' && !isFullyStaffed && (\n                  <div className=\"text-xs text-yellow-600 mt-1\">\n                    Need {shift.capacity - assignedCount} more {shift.capacity - assignedCount === 1 ? 'worker' : 'workers'} to mark as filled\n                  </div>\n                )}\n              </div>\n            </div>\n          )\n        })}\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2\">\n          <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\n          <p className=\"text-red-800 text-sm\">{error}</p>\n        </div>\n      )}\n\n      {shift.status !== 'completed' && shift.status !== 'cancelled' && (\n        <div className=\"space-y-2\">\n          {nextStatus && (\n            <button\n              onClick={() => handleStatusChange(nextStatus)}\n              disabled={\n                updating || (shift.status === 'published' && !isFullyStaffed && !canTransitionToAssigned)\n              }\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n            >\n              {updating ? (\n                'Updating...'\n              ) : (\n                <>\n                  {nextLabel}\n                  <ArrowRight className=\"h-4 w-4\" />\n                </>\n              )}\n            </button>\n          )}\n\n          <button\n            onClick={handleCancel}\n            disabled={updating}\n            className=\"w-full px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Cancel Shift\n          </button>\n        </div>\n      )}\n\n      {(shift.status === 'completed' || shift.status === 'cancelled') && (\n        <div className=\"text-sm text-gray-500 text-center py-4\">This shift is {shift.status}</div>\n      )}\n    </div>\n  )\n}\n\n\n\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  User, Users, Phone, Mail, CheckCircle, \n  XCircle, AlertCircle, UserPlus \n} from 'lucide-react';\nimport type { Shift } from '../services/shiftsApi';\nimport { updateAssignmentStatus } from '../services/assignmentsApi';\nimport AssignmentStatusBadge from './Assignments/AssignmentStatusBadge';\n\ninterface ShiftRosterProps {\n  shift: Shift;\n  onUpdate: () => void;\n  onAssignWorker: () => void;\n}\n\nconst ShiftRoster = ({ shift, onUpdate, onAssignWorker }: ShiftRosterProps) => {\n  const [updatingStatus, setUpdatingStatus] = useState<number | null>(null);\n  \n  const assignments = shift.assignments || [];\n  const workers = shift.workers || [];\n  \n  // Helper function to get worker info for an assignment\n  const getWorkerForAssignment = (assignment: any) => {\n    return workers.find(worker => worker.id === assignment.worker_id);\n  };\n  const assignedCount = assignments.length;\n  const capacity = shift.capacity;\n  const needsMoreWorkers = assignedCount < capacity;\n  \n  const handleStatusChange = async (assignmentId: number, newStatus: any) => {\n    setUpdatingStatus(assignmentId);\n    try {\n      await updateAssignmentStatus(assignmentId, newStatus);\n      onUpdate();\n    } catch (err) {\n      console.error('Error updating status:', err);\n      alert('Failed to update assignment status');\n    } finally {\n      setUpdatingStatus(null);\n    }\n  };\n  \n  const getStatusCounts = () => {\n    return {\n      assigned: assignments.filter(a => a.status === 'assigned').length,\n      completed: assignments.filter(a => a.status === 'completed').length,\n      no_show: assignments.filter(a => a.status === 'no_show').length,\n    };\n  };\n  \n  const statusCounts = getStatusCounts();\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Roster Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900\">Shift Roster</h3>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            {assignedCount} of {capacity} workers assigned\n          </p>\n        </div>\n        \n        {needsMoreWorkers && (\n          <button\n            onClick={onAssignWorker}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n          >\n            <UserPlus className=\"h-4 w-4\" />\n            Assign Worker\n          </button>\n        )}\n      </div>\n      \n      {/* Status Summary */}\n      <div className=\"grid grid-cols-3 gap-4\">\n        <div className=\"bg-blue-50 rounded-lg p-4 text-center\">\n          <div className=\"text-2xl font-bold text-blue-600\">{statusCounts.assigned}</div>\n          <div className=\"text-xs text-blue-700 mt-1\">Assigned</div>\n        </div>\n        <div className=\"bg-green-50 rounded-lg p-4 text-center\">\n          <div className=\"text-2xl font-bold text-green-600\">{statusCounts.completed}</div>\n          <div className=\"text-xs text-green-700 mt-1\">Completed</div>\n        </div>\n        <div className=\"bg-red-50 rounded-lg p-4 text-center\">\n          <div className=\"text-2xl font-bold text-red-600\">{statusCounts.no_show}</div>\n          <div className=\"text-xs text-red-700 mt-1\">No Show</div>\n        </div>\n      </div>\n      \n      {/* Staffing Alert */}\n      {needsMoreWorkers && shift.status === 'published' && (\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3\">\n          <AlertCircle className=\"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5\" />\n          <div className=\"flex-1\">\n            <h4 className=\"font-medium text-yellow-900\">Understaffed</h4>\n            <p className=\"text-sm text-yellow-700 mt-1\">\n              Need {capacity - assignedCount} more {capacity - assignedCount === 1 ? 'worker' : 'workers'} for this shift.\n            </p>\n          </div>\n          <button\n            onClick={onAssignWorker}\n            className=\"bg-yellow-600 text-white px-3 py-1.5 rounded text-sm hover:bg-yellow-700\"\n          >\n            Assign\n          </button>\n        </div>\n      )}\n      \n      {/* Workers List */}\n      {assignedCount === 0 ? (\n        <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\n          <Users className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n          <p className=\"text-gray-500 mb-4\">No workers assigned yet</p>\n          <button\n            onClick={onAssignWorker}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 inline-flex items-center gap-2\"\n          >\n            <UserPlus className=\"h-4 w-4\" />\n            Assign First Worker\n          </button>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {assignments.map((assignment) => {\n            const isUpdating = updatingStatus === assignment.id;\n            \n            return (\n              <div\n                key={assignment.id}\n                className=\"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow\"\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-start gap-3 flex-1\">\n                    {/* Avatar */}\n                    <div className=\"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0\">\n                      <span className=\"text-blue-600 font-medium\">\n                        {getWorkerForAssignment(assignment)?.first_name[0] || '?'}{getWorkerForAssignment(assignment)?.last_name[0] || '?'}\n                      </span>\n                    </div>\n                    \n                    {/* Worker Info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <Link\n                        to={`/workers/${assignment.worker_id}`}\n                        className=\"font-medium text-gray-900 hover:text-blue-600\"\n                      >\n                        {getWorkerForAssignment(assignment)?.first_name || 'Unknown'} {getWorkerForAssignment(assignment)?.last_name || 'Worker'}\n                      </Link>\n                      \n                      <div className=\"flex flex-wrap gap-3 mt-2 text-sm text-gray-600\">\n                        {getWorkerForAssignment(assignment)?.email && (\n                          <div className=\"flex items-center gap-1\">\n                            <Mail className=\"h-4 w-4\" />\n                            <a\n                              href={`mailto:${getWorkerForAssignment(assignment)?.email}`}\n                              className=\"hover:text-blue-600\"\n                            >\n                              {getWorkerForAssignment(assignment)?.email}\n                            </a>\n                          </div>\n                        )}\n                        \n                        {getWorkerForAssignment(assignment)?.phone && (\n                          <div className=\"flex items-center gap-1\">\n                            <Phone className=\"h-4 w-4\" />\n                            <a\n                              href={`tel:${getWorkerForAssignment(assignment)?.phone}`}\n                              className=\"hover:text-blue-600\"\n                            >\n                              {getWorkerForAssignment(assignment)?.phone}\n                            </a>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Status Actions */}\n                  <div className=\"flex items-center gap-2 ml-4\">\n                    <AssignmentStatusBadge status={assignment.status} />\n                    \n                    {/* Quick Action Buttons */}\n                    {assignment.status === 'assigned' && (\n                      <div className=\"flex gap-1\">\n                        <button\n                          onClick={() => handleStatusChange(assignment.id, 'completed')}\n                          disabled={isUpdating}\n                          className=\"p-1.5 text-green-600 hover:bg-green-50 rounded disabled:opacity-50\"\n                          title=\"Mark as completed\"\n                        >\n                          <CheckCircle className=\"h-5 w-5\" />\n                        </button>\n                        <button\n                          onClick={() => handleStatusChange(assignment.id, 'no_show')}\n                          disabled={isUpdating}\n                          className=\"p-1.5 text-red-600 hover:bg-red-50 rounded disabled:opacity-50\"\n                          title=\"Mark as no-show\"\n                        >\n                          <XCircle className=\"h-5 w-5\" />\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n      \n      {/* Empty Slots */}\n      {needsMoreWorkers && (\n        <div className=\"border-t pt-4\">\n          <div className=\"text-sm text-gray-500 mb-3\">\n            Open positions: {capacity - assignedCount}\n          </div>\n          <div className=\"space-y-2\">\n            {Array.from({ length: capacity - assignedCount }).map((_, index) => (\n              <div\n                key={index}\n                className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\"\n              >\n                <User className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\n                <p className=\"text-sm text-gray-500\">Position {assignedCount + index + 1} available</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ShiftRoster;\n","import { useEffect, useState } from 'react'\nimport { Link, useNavigate, useParams } from 'react-router-dom'\nimport { deleteShift, getShift, type Shift } from '../services/shiftsApi'\nimport ShiftStatusBadge from '../components/ShiftStatusBadge'\nimport { format, parseISO } from 'date-fns'\nimport AssignWorkerModal from '../components/AssignWorkerModal'\nimport ShiftStatusWorkflow from '../components/ShiftStatusWorkflow'\nimport ShiftRoster from '../components/ShiftRoster'\nimport {\n  ArrowLeftIcon as ArrowLeft,\n  PencilSquareIcon as Edit2,\n  TrashIcon as Trash2,\n  CalendarDaysIcon as Calendar,\n  ClockIcon as Clock,\n  MapPinIcon as MapPin,\n  CurrencyDollarIcon as DollarSign,\n  DocumentTextIcon as FileText,\n  UserPlusIcon as UserPlus,\n  ExclamationCircleIcon as AlertCircle,\n} from '@heroicons/react/24/outline'\n\nexport default function ShiftDetail() {\n  const { id } = useParams()\n  const navigate = useNavigate()\n\n  const [shift, setShift] = useState<Shift | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false)\n  const [showAssignModal, setShowAssignModal] = useState(false)\n\n  useEffect(() => {\n    if (id) {\n      loadShift(parseInt(id))\n    }\n  }, [id])\n\n  const loadShift = async (shiftId: number) => {\n    try {\n      setLoading(true)\n      const response = await getShift(shiftId)\n      setShift(response.data.shift)\n    } catch (err) {\n      setError('Failed to load shift')\n      // eslint-disable-next-line no-console\n      console.error('Error loading shift:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDelete = async () => {\n    if (!id) return\n    try {\n      await deleteShift(parseInt(id))\n      navigate('/shifts')\n    } catch (err) {\n      setError('Failed to delete shift')\n      // eslint-disable-next-line no-console\n      console.error('Error deleting shift:', err)\n    }\n  }\n\n\n  const formatDate = (dateString: string) => {\n    try {\n      return format(parseISO(dateString), 'EEEE, MMMM d, yyyy')\n    } catch {\n      return dateString\n    }\n  }\n\n  const formatTime = (dateString: string) => {\n    try {\n      return format(parseISO(dateString), 'h:mm a')\n    } catch {\n      return dateString\n    }\n  }\n\n  const calculateDuration = (start: string, end: string) => {\n    try {\n      const startDate = parseISO(start)\n      const endDate = parseISO(end)\n      const hours = (endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60)\n      return `${hours.toFixed(1)} hours`\n    } catch {\n      return 'N/A'\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-gray-500\">Loading shift...</div>\n      </div>\n    )\n  }\n\n  if (error && !shift) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <p className=\"text-red-800\">{error}</p>\n        <button onClick={() => navigate('/shifts')} className=\"mt-4 text-blue-600 hover:text-blue-700\">\n          Back to Shifts\n        </button>\n      </div>\n    )\n  }\n\n  if (!shift) return null\n\n  const assignedCount = shift.assigned_count || shift.assignments?.length || 0\n  const needsMoreWorkers = assignedCount < shift.capacity\n  \n  // Calculate effective staffing based on completed assignments only\n  const completedAssignments = shift.assignments?.filter(a => a.status === 'completed').length || 0\n  const effectiveStaffingPercentage = Math.round((completedAssignments / shift.capacity) * 100)\n  const isEffectivelyStaffed = completedAssignments >= shift.capacity\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <button onClick={() => navigate('/shifts')} className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\">\n          <ArrowLeft className=\"h-5 w-5\" /> Back to Shifts\n        </button>\n\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">{shift.client_name}</h1>\n            <div className=\"flex items-center gap-3 mt-2\">\n              <ShiftStatusBadge status={shift.status} />\n              <span className=\"text-gray-600\">{shift.role_needed}</span>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <Link to={`/shifts/${shift.id}/edit`} className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2\">\n              <Edit2 className=\"h-4 w-4\" /> Edit\n            </Link>\n            <button onClick={() => setShowDeleteConfirm(true)} className=\"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 flex items-center gap-2\">\n              <Trash2 className=\"h-4 w-4\" /> Delete\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-800\">{error}</p>\n        </div>\n      )}\n\n      {needsMoreWorkers && shift.status === 'published' && (\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3\">\n          <AlertCircle className=\"h-5 w-5 text-yellow-600 mt-0.5\" />\n          <div className=\"flex-1\">\n            <h3 className=\"font-medium text-yellow-900\">Shift needs more workers</h3>\n            <p className=\"text-yellow-700 text-sm mt-1\">\n              {assignedCount} of {shift.capacity} workers assigned. Need {shift.capacity - assignedCount} more {shift.capacity - assignedCount === 1 ? 'worker' : 'workers'}.\n            </p>\n          </div>\n          <button onClick={() => setShowAssignModal(true)} className=\"btn-green flex items-center gap-2\">\n            <UserPlus className=\"h-4 w-4\" /> Assign Worker\n          </button>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2 space-y-6\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Schedule</h2>\n            <div className=\"space-y-4\">\n              <div className=\"flex items-start gap-3\">\n                <Calendar className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                <div>\n                  <div className=\"text-sm text-gray-500\">Date</div>\n                  <div className=\"font-medium text-gray-900\">{formatDate(shift.start_time_utc)}</div>\n                </div>\n              </div>\n              <div className=\"flex items-start gap-3\">\n                <Clock className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                <div>\n                  <div className=\"text-sm text-gray-500\">Time</div>\n                  <div className=\"font-medium text-gray-900\">\n                    {formatTime(shift.start_time_utc)} - {formatTime(shift.end_time_utc)}\n                  </div>\n                  <div className=\"text-sm text-gray-500 mt-1\">Duration: {calculateDuration(shift.start_time_utc, shift.end_time_utc)}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Details</h2>\n            <div className=\"space-y-4\">\n              {shift.location && (\n                <div className=\"flex items-start gap-3\">\n                  <MapPin className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                  <div>\n                    <div className=\"text-sm text-gray-500\">Location</div>\n                    <div className=\"font-medium text-gray-900\">{shift.location}</div>\n                  </div>\n                </div>\n              )}\n              {shift.pay_rate && (\n                <div className=\"flex items-start gap-3\">\n                  <DollarSign className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                  <div>\n                    <div className=\"text-sm text-gray-500\">Pay Rate</div>\n                    <div className=\"font-medium text-gray-900\">${shift.pay_rate}/hour</div>\n                  </div>\n                </div>\n              )}\n              {shift.required_certification && (\n                <div className=\"flex items-start gap-3\">\n                  <AlertCircle className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                  <div>\n                    <div className=\"text-sm text-gray-500\">Required Certification</div>\n                    <div className=\"font-medium text-gray-900\">{shift.required_certification.name}</div>\n                  </div>\n                </div>\n              )}\n              {shift.notes && (\n                <div className=\"flex items-start gap-3\">\n                  <FileText className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                  <div className=\"flex-1\">\n                    <div className=\"text-sm text-gray-500 mb-1\">Notes</div>\n                    <div className=\"text-gray-900 whitespace-pre-wrap\">{shift.notes}</div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <ShiftRoster\n              shift={shift}\n              onUpdate={() => {\n                if (id) loadShift(parseInt(id));\n              }}\n              onAssignWorker={() => setShowAssignModal(true)}\n            />\n          </div>\n        </div>\n\n        <div className=\"space-y-6\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"font-semibold text-gray-900 mb-4\">Quick Stats</h3>\n            <div className=\"space-y-4\">\n              <div>\n                <div className=\"text-sm text-gray-500\">Workers Needed</div>\n                <div className=\"text-2xl font-bold text-gray-900\">{shift.capacity}</div>\n              </div>\n              <div>\n                <div className=\"text-sm text-gray-500\">Assigned</div>\n                <div className=\"text-2xl font-bold text-blue-600\">{assignedCount}</div>\n              </div>\n              <div>\n                <div className=\"text-sm text-gray-500\">Remaining</div>\n                <div className=\"text-2xl font-bold text-yellow-600\">{Math.max(0, shift.capacity - completedAssignments)}</div>\n              </div>\n              <div className=\"pt-4 border-t\">\n                <div className=\"text-sm text-gray-500 mb-2\">Staffing Progress</div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    className={`h-2 rounded-full transition-all ${\n                      isEffectivelyStaffed ? 'bg-green-600' : \n                      effectiveStaffingPercentage >= 50 ? 'bg-yellow-600' : 'bg-red-600'\n                    }`} \n                    style={{ width: `${Math.min(effectiveStaffingPercentage, 100)}%` }} \n                  />\n                </div>\n                <div className=\"text-xs text-gray-500 mt-1 text-right\">\n                  {effectiveStaffingPercentage}% staffed\n                  {completedAssignments < shift.capacity && (\n                    <span className=\"text-red-600 ml-2\">\n                      ({shift.capacity - completedAssignments} more needed)\n                    </span>\n                  )}\n                  {assignedCount > completedAssignments && (\n                    <div className=\"text-xs text-orange-600 mt-1\">\n                      ({assignedCount - completedAssignments} no-show{assignedCount - completedAssignments !== 1 ? 's' : ''})\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"font-semibold text-gray-900 mb-4\">Status Workflow</h3>\n            <ShiftStatusWorkflow\n              shift={shift}\n              onSuccess={() => {\n                if (id) loadShift(parseInt(id))\n              }}\n            />\n          </div>\n        </div>\n      </div>\n\n      {showDeleteConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Delete Shift?</h3>\n            <p className=\"text-gray-600 mb-6\">\n              Are you sure you want to delete this shift? This action cannot be undone.\n              {assignedCount > 0 && (\n                <span className=\"block mt-2 text-red-600 font-medium\">\n                  Warning: This shift has {assignedCount} assigned {assignedCount === 1 ? 'worker' : 'workers'}.\n                </span>\n              )}\n            </p>\n            <div className=\"flex justify-end gap-3\">\n              <button onClick={() => setShowDeleteConfirm(false)} className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\">\n                Cancel\n              </button>\n              <button onClick={handleDelete} className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\">\n                Delete Shift\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showAssignModal && shift && (\n        <AssignWorkerModal\n          shift={shift}\n          onClose={() => setShowAssignModal(false)}\n          onSuccess={() => {\n            setShowAssignModal(false)\n            if (id) loadShift(parseInt(id))\n          }}\n        />\n      )}\n    </div>\n  )\n}\n\n\n"],"names":["__iconNode","CircleCheckBig","createLucideIcon","CircleX","ArrowRightIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","ExclamationCircleIcon","PencilSquareIcon","TrashIcon","UserPlusIcon","ShiftStatusWorkflow","shift","onSuccess","updating","setUpdating","useState","error","setError","currentFlow","assignedCount","isFullyStaffed","canTransitionToAssigned","nextStatus","nextLabel","handleStatusChange","newStatus","updateShift","err","handleCancel","jsxs","jsx","ShiftStatusBadge","status","index","order","isActive","isPast","isCancelled","Check","AlertCircle","Fragment","ArrowRight","ShiftRoster","onUpdate","onAssignWorker","updatingStatus","setUpdatingStatus","assignments","workers","getWorkerForAssignment","assignment","worker","capacity","needsMoreWorkers","assignmentId","updateAssignmentStatus","statusCounts","UserPlus","Users","isUpdating","Link","Mail","Phone","AssignmentStatusBadge","CheckCircle","XCircle","_","User","ShiftDetail","id","useParams","navigate","useNavigate","setShift","loading","setLoading","showDeleteConfirm","setShowDeleteConfirm","showAssignModal","setShowAssignModal","useEffect","loadShift","shiftId","response","getShift","handleDelete","deleteShift","formatDate","dateString","format","parseISO","formatTime","calculateDuration","start","end","startDate","completedAssignments","a","effectiveStaffingPercentage","isEffectivelyStaffed","ArrowLeft","Edit2","Trash2","Calendar","Clock","MapPin","DollarSign","FileText","AssignWorkerModal"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}