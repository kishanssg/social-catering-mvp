{"version":3,"file":"workersApi.js","sources":["../../../social-catering-ui/social-catering-ui/src/services/workersApi.ts"],"sourcesContent":["import api from './api'\n\nexport interface WorkerCertification {\n  certification_id: number\n  expires_at_utc: string\n}\n\nexport interface Worker {\n  id: number\n  first_name: string\n  last_name: string\n  email: string\n  phone?: string\n  active: boolean\n  skills_json: string[]\n  certifications?: Array<{ id: number; name: string }>\n  worker_certifications?: WorkerCertification[]\n  created_at: string\n  updated_at: string\n}\n\nexport interface WorkersResponse {\n  status: 'success'\n  data: {\n    workers: Worker[]\n  }\n}\n\nexport const getWorkers = async (params?: { search?: string; status?: 'active' | 'inactive' | 'all' }): Promise<WorkersResponse> => {\n  const response = await api.get('/workers', {\n    params: {\n      query: params?.search,\n      status: params?.status && params.status !== 'all' ? params.status : undefined,\n    },\n  })\n  return response.data\n}\n\nexport interface WorkerResponse {\n  status: 'success'\n  data: {\n    worker: Worker\n  }\n}\n\nexport const getWorker = async (id: number): Promise<WorkerResponse> => {\n  const response = await api.get(`/workers/${id}`)\n  return response.data\n}\n\nexport const createWorker = async (workerData: Partial<Worker>): Promise<WorkerResponse> => {\n  const response = await api.post('/workers', { worker: workerData })\n  return response.data\n}\n\nexport const updateWorker = async (id: number, workerData: Partial<Worker>): Promise<WorkerResponse> => {\n  const response = await api.put(`/workers/${id}`, { worker: workerData })\n  return response.data\n}\n\nexport const deleteWorker = async (id: number): Promise<void> => {\n  await api.put(`/workers/${id}`, { worker: { active: false } })\n}\n\n// Certification management\nexport interface AddCertificationRequest {\n  certification_id: number\n  expires_at_utc?: string\n}\n\nexport interface AddCertificationResponse {\n  status: 'success'\n  data: {\n    worker_certification: {\n      id: number\n      worker_id: number\n      certification_id: number\n      expires_at_utc: string\n      created_at: string\n      updated_at: string\n      certification: {\n        id: number\n        name: string\n      }\n    }\n  }\n}\n\nexport const addCertificationToWorker = async (\n  workerId: number, \n  certificationData: AddCertificationRequest\n): Promise<AddCertificationResponse> => {\n  const response = await api.post(`/workers/${workerId}/certifications`, certificationData)\n  return response.data\n}\n\nexport interface RemoveCertificationResponse {\n  status: 'success'\n  data: {\n    message: string\n  }\n}\n\nexport const removeCertificationFromWorker = async (\n  workerId: number, \n  certificationId: number\n): Promise<RemoveCertificationResponse> => {\n  const response = await api.delete(`/workers/${workerId}/certifications/${certificationId}`)\n  return response.data\n}\n"],"names":["getWorkers","params","api","addCertificationToWorker","workerId","certificationData","removeCertificationFromWorker","certificationId"],"mappings":"qCA4BO,MAAMA,EAAa,MAAOC,IACd,MAAMC,EAAI,IAAI,WAAY,CACzC,OAAQ,CACN,MAAOD,GAAQ,OACf,OAAoE,MAAA,CACtE,CACD,GACe,KAqDLE,EAA2B,MACtCC,EACAC,KAEiB,MAAMH,EAAI,KAAK,YAAYE,CAAQ,kBAAmBC,CAAiB,GACxE,KAULC,EAAgC,MAC3CF,EACAG,KAEiB,MAAML,EAAI,OAAO,YAAYE,CAAQ,mBAAmBG,CAAe,EAAE,GAC1E"}