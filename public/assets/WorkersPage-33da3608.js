import{r as a,a as S,j as e,L as A,u as Q,b as X,o as Y,s as v,c as Z}from"./application.js";import{C as ee}from"./calendar.js";import{f as $}from"./format.js";import{p as D}from"./parseISO.js";import{L as se,C as te}from"./LoadingSpinner.js";import{E as re}from"./ErrorMessage.js";import{E as le}from"./EmptyState.js";import{B as ae}from"./BulkAssignModal.js";import{U as ne}from"./users.js";import"./createLucideIcon.js";import"./shiftsApi.js";import"./api.js";import"./workersApi.js";import"./ErrorMessage2.js";import"./circle-alert.js";import"./x.js";import"./clock.js";function ie(s={}){const[r,i]=a.useState([]),[t,n]=a.useState(!0),[o,l]=a.useState(null),m=async()=>{try{n(!0),l(null);const x=await S.getWorkers(s);x.status==="success"&&i(x.data.workers)}catch(x){const u=x.response?.data?.error||"Failed to load workers";l(u),console.error("Workers fetch error:",x)}finally{n(!1)}};return a.useEffect(()=>{m()},[s.search,s.status]),{workers:r,isLoading:t,error:o,refetch:m}}function oe({search:s,status:r,onSearchChange:i,onStatusChange:t,onAddClick:n}){return e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:s,onChange:o=>i(o.target.value),placeholder:"Search workers by name, skill, or certification...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("select",{value:r,onChange:o=>t(o.target.value),className:"block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"all",children:"All Workers"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]}),e.jsxs("button",{onClick:n,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Add Worker"})]})]})]})}function de({workers:s,onEdit:r,onDelete:i}){return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Skills"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.phone})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.skills_json&&t.skills_json.length>0?e.jsxs(e.Fragment,{children:[t.skills_json.slice(0,3).map((n,o)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:n},o)),t.skills_json.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.skills_json.length-3," more"]})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"No skills"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.active?"Active":"Inactive"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(A,{to:`/workers/${t.id}/schedule`,className:"text-green-600 hover:text-green-700 text-sm mr-3",children:"Schedule"}),e.jsx(A,{to:`/workers/${t.id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),e.jsx("button",{onClick:()=>r(t),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),e.jsx("button",{onClick:()=>i(t),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},t.id))})]})})})}const ce=Y({first_name:v().min(1,"First name is required"),last_name:v().min(1,"Last name is required"),email:v().email("Invalid email address"),phone:v().min(10,"Phone must be at least 10 digits"),active:Z(),skills:v().min(1,"At least one skill required")});function I({worker:s,onSubmit:r,onCancel:i,isSubmitting:t}){const{register:n,handleSubmit:o,formState:{errors:l}}=Q({resolver:X(ce),defaultValues:s?{first_name:s.first_name,last_name:s.last_name,email:s.email,phone:s.phone,active:s.active,skills:s.skills_json.join(", ")}:{active:!0}}),m=async x=>{const u=x.skills.split(",").map(y=>y.trim()).filter(y=>y.length>0);await r({...x,skills_json:u})};return e.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First Name *"}),e.jsx("input",{id:"first_name",type:"text",className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${l.first_name?"border-red-500":""}`,...n("first_name")}),l.first_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.first_name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),e.jsx("input",{id:"last_name",type:"text",className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${l.last_name?"border-red-500":""}`,...n("last_name")}),l.last_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.last_name.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),e.jsx("input",{id:"email",type:"email",className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${l.email?"border-red-500":""}`,...n("email")}),l.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),e.jsx("input",{id:"phone",type:"tel",placeholder:"(555) 123-4567",className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${l.phone?"border-red-500":""}`,...n("phone")}),l.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.phone.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"skills",className:"block text-sm font-medium text-gray-700",children:"Skills * (comma-separated)"}),e.jsx("input",{id:"skills",type:"text",placeholder:"Server, Bartender, Host",className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${l.skills?"border-red-500":""}`,...n("skills")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter skills separated by commas (e.g., Server, Bartender, Host)"}),l.skills&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.skills.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"active",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",...n("active")}),e.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm font-medium text-gray-700",children:"Active Worker"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Uncheck to deactivate this worker"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:i,disabled:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:t?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):s?"Update Worker":"Add Worker"})]})]})}function me({worker:s}){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(A,{to:`/workers/${s.id}/schedule`,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ee,{className:"h-4 w-4"}),"View Schedule"]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Basic Information"}),e.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[s.first_name," ",s.last_name]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("dd",{className:"mt-1",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${s.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.active?"Active":"Inactive"})})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:s.email})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Added"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:$(D(s.created_at),"MMM d, yyyy")})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills_json&&s.skills_json.length>0?s.skills_json.map((r,i)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:r},i)):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No skills added"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Certifications"}),s.certifications&&s.certifications.length>0?e.jsx("div",{className:"space-y-2",children:s.certifications.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.name}),r.expires_at_utc&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Expires: ",$(D(r.expires_at_utc),"MMM d, yyyy")]})]},r.id))}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No certifications"})]})]})}function E({isOpen:s,onClose:r,title:i,children:t,size:n="md"}){const o=a.useRef(null);if(a.useEffect(()=>{const m=x=>{x.key==="Escape"&&r()};return s&&(document.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.body.style.overflow="unset"}},[s,r]),!s)return null;const l={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{ref:o,className:`relative bg-white rounded-lg shadow-xl w-full ${l[n]} max-h-[90vh] flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 transition-colors","aria-label":"Close modal",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:t})]})})]})}function xe({message:s,type:r,isVisible:i,onClose:t}){if(a.useEffect(()=>{if(i){const l=setTimeout(()=>{t()},3e3);return()=>clearTimeout(l)}},[i,t]),!i)return null;const n={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500"},o={success:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),error:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),info:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})};return e.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slide-up",children:e.jsxs("div",{className:`${n[r]} text-white px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 min-w-[300px]`,children:[o[r],e.jsx("span",{className:"flex-1",children:s}),e.jsx("button",{onClick:t,className:"text-white hover:text-gray-200",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function Le(){const[s,r]=a.useState(""),[i,t]=a.useState(""),[n,o]=a.useState("all");a.useEffect(()=>{const c=setTimeout(()=>{t(s)},300);return()=>clearTimeout(c)},[s]);const[l,m]=a.useState(!1),[x,u]=a.useState(!1),[y,O]=a.useState(!1),[T,C]=a.useState(!1),[H,W]=a.useState(!1),[d,N]=a.useState(null),[F,k]=a.useState(!1),[P,z]=a.useState(!1),[w,j]=a.useState(null),[M,f]=a.useState(null),{workers:h,isLoading:R,error:B,refetch:b}=ie({search:i,status:n}),_=a.useMemo(()=>{const c=h.length,p=h.filter(L=>L.active).length,g=h.filter(L=>!L.active).length;return{total:c,active:p,inactive:g}},[h]),U=()=>{N(null),j(null),m(!0)},q=c=>{N(c),j(null),u(!0)},V=c=>{N(c),C(!0)},G=async c=>{try{k(!0),j(null),await S.createWorker(c),m(!1),b(),f({message:"Worker added successfully!",type:"success"})}catch(p){const g=p.response?.data?.error||"Failed to create worker";j(g),f({message:g,type:"error"})}finally{k(!1)}},J=async c=>{if(d)try{k(!0),j(null),await S.updateWorker(d.id,c),u(!1),b(),f({message:"Worker updated successfully!",type:"success"})}catch(p){const g=p.response?.data?.error||"Failed to update worker";j(g),f({message:g,type:"error"})}finally{k(!1)}},K=async()=>{if(d)try{z(!0),await S.deleteWorker(d.id),C(!1),N(null),b(),f({message:"Worker deleted successfully!",type:"success"})}catch(c){const p=c.response?.data?.error||"Failed to delete worker";f({message:p,type:"error"})}finally{z(!1)}};return R?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(se,{size:"lg"})}):B?e.jsx(re,{message:B,onRetry:b}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Workers"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your workforce directory"})]}),e.jsxs("button",{onClick:()=>W(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Bulk Assign"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Workers"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:_.total})]}),e.jsx("div",{className:"p-3 rounded-lg bg-blue-50 text-blue-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:_.active})]}),e.jsx("div",{className:"p-3 rounded-lg bg-green-50 text-green-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-600",children:_.inactive})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gray-50 text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})})]})})]}),e.jsx(oe,{search:s,status:n,onSearchChange:r,onStatusChange:o,onAddClick:U}),h.length>0?e.jsxs(e.Fragment,{children:[e.jsx(de,{workers:h,onEdit:q,onDelete:V}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",h.length," worker",h.length!==1?"s":""]})]}):e.jsx(le,{title:"No Workers Found",description:s||n!=="all"?"Try adjusting your search or filters":"Get started by adding your first worker",icon:e.jsx("svg",{className:"h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs(E,{isOpen:l,onClose:()=>m(!1),title:"Add New Worker",size:"lg",children:[w&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:w})}),e.jsx(I,{onSubmit:G,onCancel:()=>m(!1),isSubmitting:F})]}),e.jsxs(E,{isOpen:x,onClose:()=>u(!1),title:"Edit Worker",size:"lg",children:[w&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:w})}),e.jsx(I,{worker:d,onSubmit:J,onCancel:()=>u(!1),isSubmitting:F})]}),e.jsx(E,{isOpen:y,onClose:()=>O(!1),title:d?`${d.first_name} ${d.last_name}`:"Worker Details",size:"lg",children:d&&e.jsx(me,{worker:d})}),e.jsx(te,{isOpen:T,onClose:()=>C(!1),onConfirm:K,title:"Delete Worker",message:d?`Are you sure you want to delete ${d.first_name} ${d.last_name}? This action cannot be undone.`:"Are you sure you want to delete this worker?",confirmText:"Delete",cancelText:"Cancel",isLoading:P}),M&&e.jsx(xe,{message:M.message,type:M.type,isVisible:!!M,onClose:()=>f(null)}),H&&e.jsx(ae,{onClose:()=>W(!1),onSuccess:()=>{b(),W(!1)}})]})}export{Le as WorkersPage};
//# sourceMappingURL=/assets/WorkersPage-d87a1662.js.map
