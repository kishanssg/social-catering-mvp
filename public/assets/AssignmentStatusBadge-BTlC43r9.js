import{b as c}from"./vendor-Clbca2a1.js";import{e as d,j as S}from"./index-BFGx1Kmw.js";const w=async e=>(await d.get("/assignments",{params:e})).data,b=async(e,n)=>(await d.put(`/assignments/${e}`,{assignment:{status:n}})).data,E=async e=>{await d.delete(`/assignments/${e}`)};function C(e){const[n,a]=c.useState([]),[u,i]=c.useState(!0),[f,r]=c.useState(null),[g,x]=c.useState({}),m=c.useMemo(()=>({...g,...e}),[g,e]),p=async()=>{try{i(!0),r(null);const s=await w(m);s.status==="success"&&s.data?.assignments?a(s.data.assignments):r("Failed to fetch assignments")}catch(s){r(s instanceof Error?s.message:"An error occurred")}finally{i(!1)}},y=async(s,t)=>{try{(await b(s,t)).status==="success"?a(h=>h.map(l=>l.id===s?{...l,status:t}:l)):r("Failed to update assignment status")}catch(o){r(o instanceof Error?o.message:"Failed to update assignment status")}},A=async s=>{try{await E(s),a(t=>t.filter(o=>o.id!==s))}catch(t){r(t instanceof Error?t.message:"Failed to delete assignment")}};return c.useEffect(()=>{p()},[m]),{assignments:n,loading:u,error:f,filters:g,setFilters:x,refetch:p,updateAssignmentStatus:y,deleteAssignment:A}}const j=({status:e,size:n="md"})=>{const a=()=>{switch(e){case"assigned":return"bg-blue-100 text-blue-700";case"completed":return"bg-green-100 text-green-700";case"no_show":return"bg-red-100 text-red-700";case"cancelled":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},u=()=>{switch(e){case"assigned":return"Assigned";case"completed":return"Completed";case"no_show":return"No Show";case"cancelled":return"Cancelled";default:return e}},i={sm:"px-2 py-0.5 text-xs",md:"px-2 py-1 text-xs",lg:"px-3 py-1.5 text-sm"};return S.jsx("span",{className:`${i[n]} font-medium rounded-full ${a()}`,children:u()})};export{j as A,b as a,C as u};
