import{a as pe,j as e,X as bt,A as yt}from"./index-CP9DU8b6.js";import{g as Ce,h as $e,r as f,b as jt,i as wt}from"./vendor-79DyBOV9.js";import{c as Ae,u as Nt}from"./useCertificationsCatalog-CLbU1pcq.js";import{b as Se,a as Pe,c as Fe,e as We,p as Ye}from"./Prep Cook-li-JR_eG.js";import{M as St}from"./map-pin-3L1sn1-L.js";import{L as kt}from"./loader-2-DLuWib4C.js";import{P as Be}from"./plus-BpbqdA3T.js";import{u as ke,g as Ct,c as Re}from"./eventsApi-CGniF_PN.js";import{T as $t}from"./Toast-CbvAEAlP.js";import"./x-circle-DJ7gI2s2.js";var qe={exports:{}};(function(w,W){(function(P,R){w.exports=R()})($e,function(){var P=1e3,R=6e4,S=36e5,$="millisecond",_="second",E="minute",j="hour",c="day",U="week",I="month",D="quarter",k="year",x="date",r="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var l=["th","st","nd","rd"],i=m%100;return"["+m+(l[(i-20)%10]||l[i]||l[0])+"]"}},N=function(m,l,i){var d=String(m);return!d||d.length>=l?m:""+Array(l+1-d.length).join(i)+m},A={s:N,z:function(m){var l=-m.utcOffset(),i=Math.abs(l),d=Math.floor(i/60),a=i%60;return(l<=0?"+":"-")+N(d,2,"0")+":"+N(a,2,"0")},m:function m(l,i){if(l.date()<i.date())return-m(i,l);var d=12*(i.year()-l.year())+(i.month()-l.month()),a=l.clone().add(d,I),n=i-a<0,o=l.clone().add(d+(n?-1:1),I);return+(-(d+(i-a)/(n?a-o:o-a))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:I,y:k,w:U,d:c,D:x,h:j,m:E,s:_,ms:$,Q:D}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},F="en",Z={};Z[F]=L;var V="$isDayjsObject",J=function(m){return m instanceof ae||!(!m||!m[V])},v=function m(l,i,d){var a;if(!l)return F;if(typeof l=="string"){var n=l.toLowerCase();Z[n]&&(a=n),i&&(Z[n]=i,a=n);var o=l.split("-");if(!a&&o.length>1)return m(o[0])}else{var g=l.name;Z[g]=l,a=g}return!d&&a&&(F=a),a||!d&&F},C=function(m,l){if(J(m))return m.clone();var i=typeof l=="object"?l:{};return i.date=m,i.args=arguments,new ae(i)},y=A;y.l=v,y.i=J,y.w=function(m,l){return C(m,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var ae=function(){function m(i){this.$L=v(i.locale,null,!0),this.parse(i),this.$x=this.$x||i.x||{},this[V]=!0}var l=m.prototype;return l.parse=function(i){this.$d=function(d){var a=d.date,n=d.utc;if(a===null)return new Date(NaN);if(y.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var o=a.match(p);if(o){var g=o[2]-1||0,b=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],g,o[3]||1,o[4]||0,o[5]||0,o[6]||0,b)):new Date(o[1],g,o[3]||1,o[4]||0,o[5]||0,o[6]||0,b)}}return new Date(a)}(i),this.init()},l.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},l.$utils=function(){return y},l.isValid=function(){return this.$d.toString()!==r},l.isSame=function(i,d){var a=C(i);return this.startOf(d)<=a&&a<=this.endOf(d)},l.isAfter=function(i,d){return C(i)<this.startOf(d)},l.isBefore=function(i,d){return this.endOf(d)<C(i)},l.$g=function(i,d,a){return y.u(i)?this[d]:this.set(a,i)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(i,d){var a=this,n=!!y.u(d)||d,o=y.p(i),g=function(se,K){var ee=y.w(a.$u?Date.UTC(a.$y,K,se):new Date(a.$y,K,se),a);return n?ee:ee.endOf(c)},b=function(se,K){return y.w(a.toDate()[se].apply(a.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(K)),a)},Y=this.$W,T=this.$M,q=this.$D,ne="set"+(this.$u?"UTC":"");switch(o){case k:return n?g(1,0):g(31,11);case I:return n?g(1,T):g(0,T+1);case U:var te=this.$locale().weekStart||0,le=(Y<te?Y+7:Y)-te;return g(n?q-le:q+(6-le),T);case c:case x:return b(ne+"Hours",0);case j:return b(ne+"Minutes",1);case E:return b(ne+"Seconds",2);case _:return b(ne+"Milliseconds",3);default:return this.clone()}},l.endOf=function(i){return this.startOf(i,!1)},l.$set=function(i,d){var a,n=y.p(i),o="set"+(this.$u?"UTC":""),g=(a={},a[c]=o+"Date",a[x]=o+"Date",a[I]=o+"Month",a[k]=o+"FullYear",a[j]=o+"Hours",a[E]=o+"Minutes",a[_]=o+"Seconds",a[$]=o+"Milliseconds",a)[n],b=n===c?this.$D+(d-this.$W):d;if(n===I||n===k){var Y=this.clone().set(x,1);Y.$d[g](b),Y.init(),this.$d=Y.set(x,Math.min(this.$D,Y.daysInMonth())).$d}else g&&this.$d[g](b);return this.init(),this},l.set=function(i,d){return this.clone().$set(i,d)},l.get=function(i){return this[y.p(i)]()},l.add=function(i,d){var a,n=this;i=Number(i);var o=y.p(d),g=function(T){var q=C(n);return y.w(q.date(q.date()+Math.round(T*i)),n)};if(o===I)return this.set(I,this.$M+i);if(o===k)return this.set(k,this.$y+i);if(o===c)return g(1);if(o===U)return g(7);var b=(a={},a[E]=R,a[j]=S,a[_]=P,a)[o]||1,Y=this.$d.getTime()+i*b;return y.w(Y,this)},l.subtract=function(i,d){return this.add(-1*i,d)},l.format=function(i){var d=this,a=this.$locale();if(!this.isValid())return a.invalidDate||r;var n=i||"YYYY-MM-DDTHH:mm:ssZ",o=y.z(this),g=this.$H,b=this.$m,Y=this.$M,T=a.weekdays,q=a.months,ne=a.meridiem,te=function(K,ee,ie,me){return K&&(K[ee]||K(d,n))||ie[ee].slice(0,me)},le=function(K){return y.s(g%12||12,K,"0")},se=ne||function(K,ee,ie){var me=K<12?"AM":"PM";return ie?me.toLowerCase():me};return n.replace(O,function(K,ee){return ee||function(ie){switch(ie){case"YY":return String(d.$y).slice(-2);case"YYYY":return y.s(d.$y,4,"0");case"M":return Y+1;case"MM":return y.s(Y+1,2,"0");case"MMM":return te(a.monthsShort,Y,q,3);case"MMMM":return te(q,Y);case"D":return d.$D;case"DD":return y.s(d.$D,2,"0");case"d":return String(d.$W);case"dd":return te(a.weekdaysMin,d.$W,T,2);case"ddd":return te(a.weekdaysShort,d.$W,T,3);case"dddd":return T[d.$W];case"H":return String(g);case"HH":return y.s(g,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return se(g,b,!0);case"A":return se(g,b,!1);case"m":return String(b);case"mm":return y.s(b,2,"0");case"s":return String(d.$s);case"ss":return y.s(d.$s,2,"0");case"SSS":return y.s(d.$ms,3,"0");case"Z":return o}return null}(K)||o.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(i,d,a){var n,o=this,g=y.p(d),b=C(i),Y=(b.utcOffset()-this.utcOffset())*R,T=this-b,q=function(){return y.m(o,b)};switch(g){case k:n=q()/12;break;case I:n=q();break;case D:n=q()/3;break;case U:n=(T-Y)/6048e5;break;case c:n=(T-Y)/864e5;break;case j:n=T/S;break;case E:n=T/R;break;case _:n=T/P;break;default:n=T}return a?n:y.a(n)},l.daysInMonth=function(){return this.endOf(I).$D},l.$locale=function(){return Z[this.$L]},l.locale=function(i,d){if(!i)return this.$L;var a=this.clone(),n=v(i,d,!0);return n&&(a.$L=n),a},l.clone=function(){return y.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},m}(),oe=ae.prototype;return C.prototype=oe,[["$ms",$],["$s",_],["$m",E],["$H",j],["$W",c],["$M",I],["$y",k],["$D",x]].forEach(function(m){oe[m[1]]=function(l){return this.$g(l,m[0],m[1])}}),C.extend=function(m,l){return m.$i||(m(l,ae,C),m.$i=!0),C},C.locale=v,C.isDayjs=J,C.unix=function(m){return C(1e3*m)},C.en=Z[F],C.Ls=Z,C.p={},C})})(qe);var _t=qe.exports;const Q=Ce(_t);var Ze={exports:{}};(function(w,W){(function(P,R){w.exports=R()})($e,function(){var P="minute",R=/[+-]\d\d(?::?\d\d)?/g,S=/([+-]|\d\d)/g;return function($,_,E){var j=_.prototype;E.utc=function(r){var p={date:r,utc:!0,args:arguments};return new _(p)},j.utc=function(r){var p=E(this.toDate(),{locale:this.$L,utc:!0});return r?p.add(this.utcOffset(),P):p},j.local=function(){return E(this.toDate(),{locale:this.$L,utc:!1})};var c=j.parse;j.parse=function(r){r.utc&&(this.$u=!0),this.$utils().u(r.$offset)||(this.$offset=r.$offset),c.call(this,r)};var U=j.init;j.init=function(){if(this.$u){var r=this.$d;this.$y=r.getUTCFullYear(),this.$M=r.getUTCMonth(),this.$D=r.getUTCDate(),this.$W=r.getUTCDay(),this.$H=r.getUTCHours(),this.$m=r.getUTCMinutes(),this.$s=r.getUTCSeconds(),this.$ms=r.getUTCMilliseconds()}else U.call(this)};var I=j.utcOffset;j.utcOffset=function(r,p){var O=this.$utils().u;if(O(r))return this.$u?0:O(this.$offset)?I.call(this):this.$offset;if(typeof r=="string"&&(r=function(F){F===void 0&&(F="");var Z=F.match(R);if(!Z)return null;var V=(""+Z[0]).match(S)||["-",0,0],J=V[0],v=60*+V[1]+ +V[2];return v===0?0:J==="+"?v:-v}(r),r===null))return this;var L=Math.abs(r)<=16?60*r:r;if(L===0)return this.utc(p);var N=this.clone();if(p)return N.$offset=L,N.$u=!1,N;var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(N=this.local().add(L+A,P)).$offset=L,N.$x.$localOffset=A,N};var D=j.format;j.format=function(r){var p=r||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return D.call(this,p)},j.valueOf=function(){var r=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*r},j.isUTC=function(){return!!this.$u},j.toISOString=function(){return this.toDate().toISOString()},j.toString=function(){return this.toDate().toUTCString()};var k=j.toDate;j.toDate=function(r){return r==="s"&&this.$offset?E(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():k.call(this)};var x=j.diff;j.diff=function(r,p,O){if(r&&this.$u===r.$u)return x.call(this,r,p,O);var L=this.local(),N=E(r).local();return x.call(L,N,p,O)}}})})(Ze);var Dt=Ze.exports;const Mt=Ce(Dt);var Ve={exports:{}};(function(w,W){(function(P,R){w.exports=R()})($e,function(){var P={year:0,month:1,day:2,hour:3,minute:4,second:5},R={};return function(S,$,_){var E,j=function(D,k,x){x===void 0&&(x={});var r=new Date(D),p=function(O,L){L===void 0&&(L={});var N=L.timeZoneName||"short",A=O+"|"+N,F=R[A];return F||(F=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:O,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:N}),R[A]=F),F}(k,x);return p.formatToParts(r)},c=function(D,k){for(var x=j(D,k),r=[],p=0;p<x.length;p+=1){var O=x[p],L=O.type,N=O.value,A=P[L];A>=0&&(r[A]=parseInt(N,10))}var F=r[3],Z=F===24?0:F,V=r[0]+"-"+r[1]+"-"+r[2]+" "+Z+":"+r[4]+":"+r[5]+":000",J=+D;return(_.utc(V).valueOf()-(J-=J%1e3))/6e4},U=$.prototype;U.tz=function(D,k){D===void 0&&(D=E);var x,r=this.utcOffset(),p=this.toDate(),O=p.toLocaleString("en-US",{timeZone:D}),L=Math.round((p-new Date(O))/1e3/60),N=15*-Math.round(p.getTimezoneOffset()/15)-L;if(!Number(N))x=this.utcOffset(0,k);else if(x=_(O,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(N,!0),k){var A=x.utcOffset();x=x.add(r-A,"minute")}return x.$x.$timezone=D,x},U.offsetName=function(D){var k=this.$x.$timezone||_.tz.guess(),x=j(this.valueOf(),k,{timeZoneName:D}).find(function(r){return r.type.toLowerCase()==="timezonename"});return x&&x.value};var I=U.startOf;U.startOf=function(D,k){if(!this.$x||!this.$x.$timezone)return I.call(this,D,k);var x=_(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return I.call(x,D,k).tz(this.$x.$timezone,!0)},_.tz=function(D,k,x){var r=x&&k,p=x||k||E,O=c(+_(),p);if(typeof D!="string")return _(D).tz(p);var L=function(Z,V,J){var v=Z-60*V*1e3,C=c(v,J);if(V===C)return[v,V];var y=c(v-=60*(C-V)*1e3,J);return C===y?[v,C]:[Z-60*Math.min(C,y)*1e3,Math.max(C,y)]}(_.utc(D,r).valueOf(),O,p),N=L[0],A=L[1],F=_(N).utcOffset(A);return F.$x.$timezone=p,F},_.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},_.tz.setDefault=function(D){E=D}}})})(Ve);var It=Ve.exports;const Ot=Ce(It),Lt="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.75%203.75C8.75%203.33579%208.41421%203%208%203C7.58579%203%207.25%203.33579%207.25%203.75V7.25H3.75C3.33579%207.25%203%207.58579%203%208C3%208.41421%203.33579%208.75%203.75%208.75L7.25%208.75V12.25C7.25%2012.6642%207.58579%2013%208%2013C8.41421%2013%208.75%2012.6642%208.75%2012.25V8.75L12.25%208.75C12.6642%208.75%2013%208.41421%2013%208C13%207.58579%2012.6642%207.25%2012.25%207.25H8.75V3.75Z'%20fill='%23292826'/%3e%3c/svg%3e",Tt="data:image/svg+xml,%3csvg%20width='23'%20height='24'%20viewBox='0%200%2023%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.2211%209.52539C15.514%209.2325%2015.514%208.75763%2015.2211%208.46473C14.9282%208.17184%2014.4533%208.17184%2014.1604%208.46473L11.6855%2010.9396L9.21067%208.46473C8.91778%208.17184%208.44291%208.17184%208.15001%208.46473C7.85712%208.75763%207.85712%209.2325%208.15001%209.52539L10.6249%2012.0003L8.15001%2014.4751C7.85712%2014.768%207.85712%2015.2429%208.15001%2015.5358C8.44291%2015.8287%208.91778%2015.8287%209.21067%2015.5358L11.6855%2013.0609L14.1604%2015.5358C14.4533%2015.8287%2014.9282%2015.8287%2015.2211%2015.5358C15.514%2015.2429%2015.514%2014.768%2015.2211%2014.4751L12.7462%2012.0003L15.2211%209.52539Z'%20fill='%23292826'/%3e%3c/svg%3e",Et="/assets/formal_uniform.png",Ut="/assets/black_polo.png",zt="/assets/the_bistro.png",Ht="/assets/black_and_white.png",Pt="/assets/chef_coat.png",xe={async search(w,W){return(await pe.get("/venues/search",{params:{query:w,session_token:W}})).data.data},async select(w,W){return(await pe.post("/venues/select",{place_id:w,session_token:W})).data.data},async update(w,W){return(await pe.patch(`/venues/${w}`,W)).data.data},async getAll(){return(await pe.get("/venues")).data.data},async getById(w){return(await pe.get(`/venues/${w}`)).data.data},async create(w){return(await pe.post("/venues",{venue:w})).data.data}},Ft="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.21967%2010.2197C5.51256%209.92678%205.98744%209.92678%206.28033%2010.2197L8%2011.9393L9.71967%2010.2197C10.0126%209.92678%2010.4874%209.92678%2010.7803%2010.2197C11.0732%2010.5126%2011.0732%2010.9874%2010.7803%2011.2803L8.53033%2013.5303C8.23744%2013.8232%207.76256%2013.8232%207.46967%2013.5303L5.21967%2011.2803C4.92678%2010.9874%204.92678%2010.5126%205.21967%2010.2197Z'%20fill='%23292826'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.7803%205.78033C10.4874%206.07322%2010.0126%206.07322%209.71967%205.78033L8%204.06066L6.28033%205.78033C5.98744%206.07322%205.51256%206.07322%205.21967%205.78033C4.92678%205.48744%204.92678%205.01256%205.21967%204.71967L7.46967%202.46967C7.76256%202.17678%208.23744%202.17678%208.53033%202.46967L10.7803%204.71967C11.0732%205.01256%2011.0732%205.48744%2010.7803%205.78033Z'%20fill='%23292826'/%3e%3c/svg%3e";function Wt({isOpen:w,onClose:W,onVenueCreated:P,initialName:R=""}){const[S,$]=f.useState({name:R,formatted_address:"",address:"",notes:""}),[_,E]=f.useState(!1),[j,c]=f.useState(null),U=k=>{const{name:x,value:r}=k.target;$(p=>({...p,[x]:r})),c(null)},I=async k=>{var x,r,p,O,L;k.preventDefault(),E(!0),c(null);try{const N=await xe.create(S);P(N),D()}catch(N){const A=((p=(r=(x=N==null?void 0:N.response)==null?void 0:x.data)==null?void 0:r.errors)==null?void 0:p.join(", "))||((L=(O=N==null?void 0:N.response)==null?void 0:O.data)==null?void 0:L.error)||"Failed to create venue";c(A),E(!1)}},D=()=>{$({name:"",formatted_address:"",address:"",notes:""}),c(null),W()};return w?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white z-10 flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-teal-100 rounded-lg",children:e.jsx(St,{className:"h-5 w-5 text-teal-700"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Venue"}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Add a new location to your saved venues. You can edit details later if needed."})]})]}),e.jsx("button",{onClick:D,type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(bt,{className:"h-5 w-5"})})]}),j&&e.jsxs("div",{className:"m-6 p-4 bg-red-50 border-2 border-red-300 rounded-lg flex items-start gap-3",children:[e.jsx(yt,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-red-900",children:"Failed to create venue"}),e.jsx("p",{className:"text-sm text-red-800 mt-1",children:j})]})]}),e.jsxs("form",{onSubmit:I,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Venue Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:S.name,onChange:U,required:!0,placeholder:"e.g., Grand Ballroom, City Hall, Oak Street Pavilion",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Address (as displayed) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"formatted_address",value:S.formatted_address,onChange:U,required:!0,placeholder:"123 Main St, City, ST 12345",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Address Notes ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(optional)"})]}),e.jsx("textarea",{name:"address",value:S.address||"",onChange:U,rows:3,placeholder:"Additional address details, building info, etc.",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Internal Notes ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(optional)"})]}),e.jsx("textarea",{name:"notes",value:S.notes||"",onChange:U,rows:3,placeholder:"Parking info, contact details, etc.",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t-2 border-gray-100",children:[e.jsx("button",{type:"button",onClick:D,disabled:_,className:"px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:_,className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center gap-2 transition-colors",children:[_&&e.jsx(kt,{className:"h-4 w-4 animate-spin"}),_?"Creating...":"Create Venue"]})]})]})]})}):null}const Yt=({selectedVenue:w,onVenueSelect:W,onInstructionsUpdate:P})=>{const[R,S]=f.useState(!1),[$,_]=f.useState(""),[E,j]=f.useState([]),[c,U]=f.useState([]),[I,D]=f.useState(""),[k,x]=f.useState(!1),[r,p]=f.useState(""),[O,L]=f.useState(""),[N,A]=f.useState(!1),[F,Z]=f.useState(!1),[V,J]=f.useState(!1),v=f.useRef(null),C=f.useRef(null);f.useEffect(()=>{w&&(p(w.arrival_instructions||""),L(w.parking_info||""),_(""),S(!1),Z(!1))},[w]);const y=n=>{const o=new Set;return n.filter(g=>{let b=null;return g.id?b=`id-${g.id}`:g.place_id?b=`place-${g.place_id}`:g.name&&g.address&&(b=`name-${g.name.toLowerCase().trim()}-addr-${g.address.toLowerCase().trim()}`),!b||o.has(b)?!1:(o.add(b),!0)})},ae=f.useCallback(async n=>{x(!0);try{const o=await xe.search(n,I),g=y(o.cached||[]),b=y(o.google_results||[]),Y=g.map(q=>q.id||q.place_id||`${q.name}-${q.address}`),T=Y.filter((q,ne)=>Y.indexOf(q)!==ne);T.length>0&&console.warn("Venue deduplication warning: Still found duplicates after deduplication:",T),j(g),U(b),o.session_token&&D(o.session_token)}catch(o){console.error("Venue search error:",o),j([]),U([])}finally{x(!1)}},[I]),oe=n=>{const o=n.target.value;_(o),S(!0),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{ae(o)},300)},m=async n=>{x(!0);try{let o=null;if(n.id)o=await xe.getById(n.id);else if(n.place_id)o=(await xe.select(n.place_id,I)).venue;else throw new Error("Venue is missing both id and place_id");W(o),S(!1),_("")}catch(o){console.error("Venue selection error:",o)}finally{x(!1)}},l=async()=>{if(w){A(!0);try{await xe.update(w.id,{arrival_instructions:r,parking_info:O}),P&&P(w.id,{arrival_instructions:r,parking_info:O}),Z(!0),setTimeout(()=>Z(!1),1800)}catch(n){console.error("Failed to save instructions:",n)}finally{A(!1)}}};f.useEffect(()=>{const n=o=>{v.current&&!v.current.contains(o.target)&&S(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const i=[...E,...c],d=R&&i.length>0,a=n=>{const o={id:n.id,place_id:n.place_id,name:n.name,address:n.full_address||n.formatted_address};j(g=>[o,...g]),m(o),J(!1),_("")};return e.jsxs("div",{className:"flex flex-col gap-4",children:[w?e.jsxs("div",{className:"rounded-lg p-5 border border-primary-color/30 shadow-[0_1px_2px_rgba(0,0,0,0.06)]",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-base text-font-primary",children:w.name}),e.jsx("p",{className:"text-sm text-font-secondary mt-1",children:w.formatted_address})]}),e.jsx("button",{onClick:()=>{W(null),_(""),j([]),U([])},className:"text-sm font-normal font-manrope text-red-500 hover:underline ml-4",children:"Change"})]}),e.jsx("div",{className:"w-full border-t border-dashed border-primary-color/20 mb-4"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-font-secondary uppercase mb-2 tracking-wide",children:"Arrival Instructions"}),e.jsx("textarea",{value:r,onChange:n=>p(n.target.value),placeholder:"e.g., Enter through main entrance, check in at front desk...",className:"w-full px-3 py-2 border border-primary-color/20 rounded-lg font-manrope text-sm text-font-primary placeholder:text-font-secondary focus:outline-none focus:border-primary-color resize-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-font-secondary uppercase mb-2 tracking-wide",children:"Parking Information"}),e.jsx("textarea",{value:O,onChange:n=>L(n.target.value),placeholder:"e.g., Free parking in rear lot, valet available...",className:"w-full px-3 py-2 border border-primary-color/20 rounded-lg font-manrope text-sm text-font-primary placeholder:text-font-secondary focus:outline-none focus:border-primary-color resize-none",rows:3})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-1",children:[F&&e.jsxs("span",{className:"flex items-center gap-1 text-sm text-font-secondary",children:[e.jsx("img",{src:Ae,width:"14",height:"14",alt:"Saved"}),"Saved"]}),e.jsx("button",{onClick:l,className:"px-4 py-2 text-sm font-normal font-manrope text-white bg-primary-color hover:bg-primary-color/90 rounded-lg transition-colors min-w-[88px] disabled:opacity-50 disabled:cursor-not-allowed",disabled:N||(w?r===(w.arrival_instructions||"")&&O===(w.parking_info||""):!0),children:N?"Saving...":"Save"})]})]})]}):e.jsxs("div",{className:"relative",ref:v,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:$,onChange:oe,onFocus:()=>{S(!0),E.length===0&&c.length===0&&ae("")},placeholder:"Search for a venue...",className:"w-full h-11 px-4 py-2.5 border border-primary-color/20 rounded-lg font-manrope text-sm leading-[140%] text-font-primary placeholder:text-font-secondary focus:outline-none focus:border-primary-color hover:border-primary-color/30 transition-colors"}),e.jsx("img",{src:Ft,width:"20",height:"20",alt:"Toggle",className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",style:{imageRendering:"crisp-edges"}})]}),d&&e.jsx("div",{className:"absolute z-[999] w-full mt-1 bg-white border border-primary-color/20 rounded-lg shadow-lg max-h-[280px] overflow-y-auto",children:k?e.jsx("div",{className:"px-4 py-3 text-sm text-font-secondary",children:"Searching..."}):i.length>0?e.jsxs(e.Fragment,{children:[E.length>0&&e.jsxs("div",{className:"border-b border-primary-color/10",children:[e.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-font-secondary uppercase",children:"Recent Venues"}),E.map(n=>{const o=n.id?`cached-id-${n.id}`:n.place_id?`cached-place-${n.place_id}`:`cached-${n.name}-${n.address}`.replace(/\s+/g,"-");return e.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-gray-50 border-b border-primary-color/5 last:border-b-0",onClick:()=>m(n),children:[e.jsx("div",{className:"font-semibold text-sm text-font-primary",children:n.name}),e.jsx("div",{className:"text-xs text-font-secondary mt-0.5",children:n.address})]},o)})]}),c.length>0&&e.jsxs("div",{children:[E.length>0&&e.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-font-secondary uppercase",children:"Search Results"}),c.map((n,o)=>e.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-gray-50 border-b border-primary-color/5 last:border-b-0",onClick:()=>m(n),children:[e.jsx("div",{className:"font-semibold text-sm text-font-primary",children:n.name}),e.jsx("div",{className:"text-xs text-font-secondary mt-0.5",children:n.address})]},`google-${n.place_id}-${o}`))]}),e.jsx("div",{className:"border-t border-gray-200 mt-1 pt-1",children:e.jsxs("button",{type:"button",onClick:()=>{J(!0),S(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-2 text-gray-900 font-medium text-sm font-manrope",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:"Add a New Venue"})]})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"px-4 py-3 text-sm text-font-secondary",children:"No venues found"}),e.jsx("div",{className:"border-t border-gray-200 mt-1 pt-1",children:e.jsxs("button",{type:"button",onClick:()=>{J(!0),S(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-2 text-gray-900 font-medium text-sm font-manrope",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:"Add a New Venue"})]})})]})})]}),e.jsx(Wt,{isOpen:V,onClose:()=>J(!1),onVenueCreated:a,initialName:$})]})};Q.extend(Mt);Q.extend(Ot);function es({editEvent:w,isEditing:W=!1}){const P=jt(),{id:R}=wt(),S=!!R,[$,_]=f.useState(w||null),[E,j]=f.useState(S&&!w),[c,U]=f.useState(0),[I,D]=f.useState([]),[k,x]=f.useState(!1),[r,p]=f.useState([]),[O,L]=f.useState(null),[N,A]=f.useState(null),[F,Z]=f.useState(null),[V,J]=f.useState({}),[v,C]=f.useState(null),[y,ae]=f.useState(!1),[oe,m]=f.useState({isVisible:!1,message:"",type:"error"}),l=t=>m({isVisible:!0,message:t,type:"error"}),i=t=>m({isVisible:!0,message:t,type:"success"}),d=async t=>{try{const s=await fetch(`/api/v1/skills?name=${encodeURIComponent(t)}`);if(s.ok){const u=await s.json(),M=(u==null?void 0:u.data)||[];if(Array.isArray(M)){const h=M.find(z=>z.name===t);return(h==null?void 0:h.suggested_pay_rate)||null}}}catch(s){console.error("Failed to fetch suggested pay rate:",s)}return null},[a,n]=f.useState(new Date),[o,g]=f.useState("08:00"),[b,Y]=f.useState("17:00"),[T,q]=f.useState(15),[ne,te]=f.useState(!1),[le,se]=f.useState(!1),[K,ee]=f.useState(!1),ie=f.useMemo(()=>{const t=[];for(let s=0;s<24;s++)for(let u=0;u<60;u+=15){const M=String(s).padStart(2,"0"),h=String(u).padStart(2,"0"),z=(s+11)%12+1,H=s<12?"AM":"PM",X=`${String(z).padStart(2,"0")}:${h} ${H}`;t.push({value:`${M}:${h}`,label:X})}return t},[]),me=t=>{const s=ie.find(u=>u.value===t);return s?s.label:t},je=t=>{const s=t.getFullYear(),u=String(t.getMonth()+1).padStart(2,"0"),M=String(t.getDate()).padStart(2,"0");return`${s}-${u}-${M}`},Ge="Upon arrival, please locate the on-site supervisor and have them scan your QR code to check you in. Make sure to arrive a few minutes early and be in proper uniform.",[ge,_e]=f.useState(Ge),[Je,De]=f.useState(!1),Qe=["Noah Park","Madison Clark","Sara Brown"],[fe,Me]=f.useState(""),[Ie,Oe]=f.useState(!1),[he,Le]=f.useState(""),[we,Te]=f.useState(""),[ce,ve]=f.useState(!1),[re,Ee]=f.useState("");f.useEffect(()=>{S&&R&&!$&&(async()=>{try{j(!0);const s=await Ct(parseInt(R));_(s)}catch(s){console.error("Failed to fetch event:",s),P("/events")}finally{j(!1)}})()},[S,R,$,P]),f.useEffect(()=>{(async()=>{var u;const s=$||w;if(s&&(S||W)){if(Ee(s.title),s.venue_id||s.venue){const M=s.venue_id||((u=s.venue)==null?void 0:u.id);if(M)try{const h=await xe.getById(M);C(h)}catch(h){console.error("Failed to load venue:",h),s.venue?C(s.venue):C({id:M,name:"Venue not found",formatted_address:"Address unavailable"})}}if(s.check_in_instructions&&(_e(s.check_in_instructions),De(!0)),s.supervisor_name&&Me(s.supervisor_name),s.supervisor_phone&&Le(s.supervisor_phone),s.schedule){const M=Intl.DateTimeFormat().resolvedOptions().timeZone,h=Q.utc(s.schedule.start_time_utc).tz(M),z=Q.utc(s.schedule.end_time_utc).tz(M),H=new Date(h.year(),h.month(),h.date());n(H),g(h.format("HH:mm")),Y(z.format("HH:mm")),s.schedule.break_minutes&&q(s.schedule.break_minutes)}if(s.skill_requirements&&s.skill_requirements.length>0){const M=s.skill_requirements.map(h=>({name:h.skill_name,icon:Ke(h.skill_name),neededWorkers:h.needed_workers,uniform:h.uniform_name||"",description:h.description||"",certification:h.certification_name||"",pay_rate:h.pay_rate||void 0}));p(M)}D([0,1,2,3])}})()},[$,w,S,W]);const Ke=t=>({Bartender:Se,"Banquet Server":Pe,Captain:Fe,"Event Helper":We,"Prep Cook":Ye})[t]||Se,Xe=t=>{if(!t){Te("");return}Te(/^\d{3}-\d{3}-\d{4}$/.test(t)?"":"Enter phone as 123-456-7890")},be=[{name:"Bartender",icon:Se},{name:"Banquet Server/Runner",icon:Pe},{name:"Captain",icon:Fe},{name:"Event Helper",icon:We},{name:"Prep Cook",icon:Ye}],Ne=[{name:"Formal Uniform",icon:Et},{name:"Black Polo",icon:Ut},{name:"The Bistro",icon:zt},{name:"Black & White",icon:Ht},{name:"Chefs Coat",icon:Pt}],et={"Formal Uniform":"Clean and pressed. White long-sleeve button up shirt, black vest, black bowtie, black slacks, black socks, black non-slip shoes.","Black Polo":"Black polo shirt tucked in, black slacks, black belt, black socks, black non-slip shoes. Hair neat and presentable.","The Bistro":"Black long-sleeve shirt with bistro apron, black slacks, black socks, black non-slip shoes. Apron clean and wrinkle-free.","Black & White":"White long-sleeve shirt with black tie, black slacks, black socks, black non-slip shoes. Shirt clean and ironed.","Chefs Coat":"Clean white chef coat, black or checkered chef pants, appropriate kitchen-safe footwear, hair restrained as required."},tt={Bartender:"Strong knowledge of drink mixing, cocktails, and wines is essential, along with the ability to multitask efficiently in a fast-paced environment. Bartenders are also expected to serve alcohol responsibly, with certifications such as TIPs or ServSafe often required.","Banquet Server/Runner":"Responsible for serving food and beverages at events with professionalism and efficiency. Must have excellent customer service skills, the ability to work in a team, and maintain composure during high-volume service.",Captain:"Oversees the service team during events, ensuring smooth operations and guest satisfaction. Requires leadership skills, attention to detail, and the ability to handle challenging situations with grace and professionalism.","Event Helper":"Provides general support during events including setup, breakdown, and assisting other team members. Should be physically capable, reliable, and willing to take on various tasks as needed to ensure event success.","Prep Cook":"Handles food preparation tasks including chopping, cooking, and assembling dishes according to recipes and specifications. Must maintain cleanliness, follow food safety guidelines, and work efficiently in a kitchen environment."},{certifications:Ue}=Nt(),st=f.useMemo(()=>Ue.map(t=>t.name),[Ue]),de=[{id:1,title:"Event Details",description:"Enter event title and pick the skills needed.",completed:I.includes(0)||c>0,active:c===0},{id:2,title:"Location",description:"Add work site details and directions.",completed:I.includes(1)||c>1,active:c===1},{id:3,title:"Schedule",description:"Set shift time and break duration.",completed:I.includes(2)||c>2,active:c===2},{id:4,title:"How to Check-in",description:"Add check-in steps for your team to follow on arrival.",completed:I.includes(3)||c>3,active:c===3},{id:5,title:"Event Summary",description:"Take a moment to review all job details before posting.",completed:I.includes(4)||c>4,active:c===4}],rt=()=>{P("/events")},nt=async()=>{if(console.log("ðŸ”„ handleContinue called:",{currentStepIndex:c,stepsLength:de.length,isLastStep:c===de.length-1,canContinue:ue}),I.includes(c)||D([...I,c]),c===de.length-1){console.log("ðŸŽ¯ Last step - calling handleCreateEvent"),await ot();return}c<de.length-1&&U(c+1)},at=()=>{c>0&&U(c-1)},ot=async()=>{if(!ce){if(!v){l("Please select a venue before creating the event.");return}if(!re||re.trim()===""){l("Please enter an event title.");return}if(r.length===0){l("Please add at least one skill requirement.");return}console.log("ðŸš€ Creating event with data:",{eventTitle:re,selectedVenue:v,selectedDate:a,startTime:o,endTime:b,selectedSkillDetails:r,isEditMode:S,isEditing:W}),ve(!0);try{const t=r.map(G=>({skill_name:G.name,needed_workers:G.neededWorkers,description:G.description,uniform_name:G.uniform,certification_name:G.certification||void 0,pay_rate:G.pay_rate||void 0})),s=Intl.DateTimeFormat().resolvedOptions().timeZone,u=je(a),M=(G,ye)=>Q.tz(`${G} ${ye}`,"YYYY-MM-DD HH:mm",s).utc().toISOString(),h=M(u,o);let z=M(u,b);Q.utc(z).valueOf()<=Q.utc(h).valueOf()&&(z=Q.utc(z).add(1,"day").toISOString()),console.table({userTimezone:s,dateISO:u,startLocal:o,endLocal:b,startUtcIso:h,endUtcIso:z});const H={start_time_utc:h,end_time_utc:z,break_minutes:T},X={title:re||"New Event",status:S||W?($==null?void 0:$.status)||"draft":"published",venue_id:v==null?void 0:v.id,check_in_instructions:ge,supervisor_name:fe,supervisor_phone:he,skill_requirements:t,schedule:H,auto_publish:!S};let B;(S||W)&&$?(B=await ke($.id,X),console.log("Event updated successfully:",B)):(B=await Re(X),console.log("Event created and published successfully:",B)),!S&&X.status==="published"&&(B!=null&&B.id)?P(`/events?tab=active&event_id=${B.id}`):P("/events")}catch(t){console.error(`Error ${W?"updating":"creating"} event:`,t);const s=(t==null?void 0:t.message)||"Failed to create event. Please try again.";l(s)}finally{ve(!1)}}},it=async()=>{if(y)return;if(!re||re.trim()===""){l("Please enter an event title.");return}if(r.length===0){l("Please add at least one skill requirement.");return}const t=Intl.DateTimeFormat().resolvedOptions().timeZone,s=je(a),u=(z,H)=>Q.tz(`${z} ${H}`,"YYYY-MM-DD HH:mm",t).utc().toISOString(),M=u(s,o);let h=u(s,b);Q.utc(h).valueOf()<=Q.utc(M).valueOf()&&(h=Q.utc(h).add(1,"day").toISOString()),ae(!0);try{const z=r.map(G=>({skill_name:G.name,needed_workers:G.neededWorkers,description:G.description,uniform_name:G.uniform,certification_name:G.certification||void 0,pay_rate:G.pay_rate||void 0})),H={start_time_utc:M,end_time_utc:h,break_minutes:T},X={title:re||"New Event",status:"draft",venue_id:v==null?void 0:v.id,check_in_instructions:ge,supervisor_name:fe,supervisor_phone:he,skill_requirements:z,schedule:H,auto_publish:!1};let B;(S||W)&&$?(B=await ke($.id,X),console.log("Draft event updated successfully:",B)):(B=await Re(X),console.log("Draft event created successfully:",B)),i("Event saved as draft successfully!"),P("/events?tab=draft")}catch(z){console.error("Error saving draft event:",z);const H=(z==null?void 0:z.message)||"Failed to save draft. Please try again.";l(H)}finally{ae(!1)}},lt=()=>{x(!k)},ct=async t=>{var M;const s=((M=be.find(h=>h.name===t))==null?void 0:M.icon)||"";if(!r.some(h=>h.name===t)){const h=await d(t),z={name:t,icon:s,neededWorkers:1,uniform:"",description:tt[t]||"",certification:"",pay_rate:h||void 0};p([...r,z]),h&&J(H=>({...H,[t]:h}))}x(!1)},dt=t=>{p(r.filter(s=>s.name!==t))},ze=(t,s)=>{p(r.map(u=>{if(u.name===t){const M=Math.max(1,u.neededWorkers+s);return{...u,neededWorkers:M}}return u}))},mt=(t,s)=>{p(r.map(u=>u.name===t?{...u,uniform:s}:u)),L(null)},ut=(t,s)=>{p(r.map(u=>u.name===t?{...u,certification:s}:u)),A(null)},ft=t=>{p(r.map(s=>s.name===t?{...s,certification:""}:s))},ht=t=>{p(r.map(s=>s.name===t?{...s,uniform:""}:s))},pt=(t,s)=>{p(r.map(u=>u.name===t?{...u,description:s}:u))},He=(t,s)=>{p(r.map(u=>u.name===t?{...u,pay_rate:s}:u))},xt=t=>{C(t)},gt=(t,s)=>{v&&v.id===t&&C({...v,...s})},ue=c===0?re.trim()!==""&&r.some(t=>t.neededWorkers>0)&&r.every(t=>t.pay_rate&&t.pay_rate>0):c===1?v!==null:c===2?a&&o&&b:c===3?!0:c===4?re.trim()!==""&&r.some(t=>t.neededWorkers>0)&&r.every(t=>t.pay_rate&&t.pay_rate>0)&&v!==null&&a&&o&&b:!0;return e.jsxs(e.Fragment,{children:[E&&e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading event details..."})]})}),!E&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-font-primary",children:"Events"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.21967 4.21967C6.51256 3.92678 6.98744 3.92678 7.28033 4.21967L10.5303 7.46967C10.8232 7.76256 10.8232 8.23744 10.5303 8.53033L7.28033 11.7803C6.98744 12.0732 6.51256 12.0732 6.21967 11.7803C5.92678 11.4874 5.92678 11.0126 6.21967 10.7197L8.93934 8L6.21967 5.28033C5.92678 4.98744 5.92678 4.51256 6.21967 4.21967Z",fill:"#292826"})}),e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-font-primary",children:W?"Edit Event":"Create New Event"})]})}),e.jsxs("div",{className:"flex flex-1 justify-center gap-12 px-8 min-h-0",style:{paddingTop:"80px",paddingBottom:"40px"},children:[e.jsx("div",{className:"w-[280px] flex-shrink-0 self-start",children:de.map((t,s)=>e.jsxs("div",{className:"flex gap-4",style:{minHeight:s<de.length-1?"100px":"auto"},children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0",style:{backgroundColor:t.completed?"#FFFFFF":t.active?"#3A869D":"transparent",border:t.completed||t.active?"2px solid #3A869D":"0.8px solid #292826",boxShadow:t.active||t.completed?"0 2px 8px 0 rgba(0,0,0,0.04)":"none"},children:t.completed?e.jsx("img",{src:Ae,width:"18",height:"18",alt:"Completed",className:"flex-shrink-0"}):t.active?e.jsx("div",{className:"rounded-full bg-white",style:{width:"12px",height:"12px"}}):null}),s<de.length-1&&e.jsx("div",{className:"flex-1",style:{width:"2px",backgroundColor:"rgba(58,134,157,0.5)"}})]}),e.jsxs("div",{className:"flex flex-col gap-1 pt-1",children:[e.jsx("span",{className:"text-sm font-bold font-manrope leading-[140%] text-font-primary",children:t.title}),e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-font-secondary",children:t.description})]})]},t.id))}),e.jsxs("div",{className:"flex flex-col p-8 rounded-lg border border-primary-color/10 bg-white self-start overflow-visible",style:{boxShadow:"0 2px 8px 0 rgba(0,0,0,0.04)",maxWidth:"850px",width:"100%",minHeight:"600px"},children:[e.jsxs("div",{className:"flex flex-col gap-6 flex-1 overflow-visible pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#3A869D20 transparent"},children:[c===0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-3 self-stretch",children:[e.jsx("label",{className:"text-sm font-semibold font-manrope leading-[140%] text-font-primary",children:"Event Title"}),e.jsx("input",{type:"text",value:re,onChange:t=>Ee(t.target.value),placeholder:"Enter event title (e.g., Corporate Holiday Party)",className:"w-full h-11 px-4 border border-primary-color/10 rounded-lg text-sm bg-white focus:outline-none focus:border-primary-color text-font-primary placeholder:text-font-secondary"})]}),e.jsxs("div",{className:"flex flex-col gap-3 self-stretch relative",children:[e.jsx("label",{className:"text-sm font-semibold font-manrope leading-[140%] text-font-primary",children:"Skills"}),e.jsxs("div",{className:"flex items-center justify-between h-11 px-4 rounded-lg border border-primary-color/10 bg-white cursor-pointer hover:border-primary-color/30 transition-colors",onClick:lt,children:[e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-primary-color",children:r.length>0?r.map(t=>t.name).join(", "):"Pick the Skills Needed"}),e.jsx("img",{src:k?Tt:Lt,width:"20",height:"20",alt:k?"Close":"Open",className:"flex-shrink-0",style:{imageRendering:"crisp-edges"}})]}),k&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-primary-color/10 rounded-lg shadow-lg z-50 max-h-[200px] overflow-y-auto",children:[be.filter(t=>!r.some(s=>s.name===t.name)).map(t=>e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-gray-50",onClick:()=>ct(t.name),children:[e.jsx("img",{src:t.icon,width:"20",height:"20",alt:t.name,className:"flex-shrink-0",style:{imageRendering:"crisp-edges"}}),e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-font-primary",children:t.name})]},t.name)),r.length===be.length&&e.jsx("div",{className:"px-3 py-2.5 text-sm text-gray-500 text-center",children:"All skills selected"})]})]}),e.jsx("div",{className:"flex flex-col gap-6",children:r.map(t=>e.jsxs("div",{className:"flex flex-col gap-6 p-6 rounded-lg border-2 border-primary-color bg-white overflow-visible",style:{boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.icon,width:"24",height:"24",alt:t.name,className:"flex-shrink-0"}),e.jsx("span",{className:"text-base font-bold font-manrope leading-[140%] text-font-primary",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-font-secondary",children:"Needed Workers"}),e.jsx("button",{onClick:()=>ze(t.name,-1),className:"flex items-center justify-center w-6 h-6 rounded border border-primary-color/20 hover:bg-gray-50",disabled:t.neededWorkers<=1,children:e.jsx("span",{className:"text-lg",children:"âˆ’"})}),e.jsx("span",{className:"text-sm font-semibold font-manrope leading-[140%] text-font-primary w-8 text-center",children:t.neededWorkers}),e.jsx("button",{onClick:()=>ze(t.name,1),className:"flex items-center justify-center w-6 h-6 rounded border border-primary-color/20 hover:bg-gray-50",children:e.jsx("span",{className:"text-lg",children:"+"})})]}),e.jsx("button",{onClick:()=>dt(t.name),className:"flex items-center justify-center w-6 h-6 text-red-500 hover:bg-red-50 rounded",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold font-manrope leading-[140%] text-font-primary",children:"Event description"}),e.jsx("button",{className:"text-sm font-normal font-manrope leading-[140%] text-primary-color hover:underline",onClick:()=>Z(F===t.name?null:t.name),children:F===t.name?"Save":"Edit"})]}),F===t.name?e.jsx("textarea",{value:t.description,onChange:s=>pt(t.name,s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm font-normal font-manrope leading-[140%] text-font-secondary resize-none",rows:3,placeholder:"Enter event description...",autoFocus:!0}):e.jsx("p",{className:"text-sm font-normal font-manrope leading-[140%] text-font-secondary",children:t.description})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-sm font-semibold font-manrope leading-[140%] text-font-primary",children:"Pay Rate ($/hour) *"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"$"}),e.jsx("input",{type:"number",step:"0.50",min:"0",placeholder:"e.g., 18.00",value:t.pay_rate||"",onChange:s=>He(t.name,parseFloat(s.target.value)||null),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0}),e.jsx("span",{className:"text-sm text-gray-600",children:"/hour"})]}),V[t.name]&&!t.pay_rate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("span",{children:["Last used: $",V[t.name],"/hr"]}),e.jsx("button",{onClick:()=>He(t.name,V[t.name]),className:"text-teal-600 hover:text-teal-700 underline",children:"Use this"})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 relative",children:[e.jsx("label",{className:"text-sm font-semibold font-manrope leading-[140%] text-font-primary",children:"Uniform"}),e.jsxs("div",{className:"flex items-center justify-between h-11 px-4 rounded-lg border border-primary-color/10 bg-white cursor-pointer hover:border-primary-color/30 transition-colors",onClick:()=>L(O===t.name?null:t.name),children:[e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-primary-color",children:t.uniform||"Select Uniform"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 6L8 10L12 6",stroke:"#292826",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),O===t.name&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-primary-color/10 rounded-lg shadow-lg z-[999] max-h-[260px] overflow-y-auto",children:Ne.map(s=>e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-gray-50",onClick:()=>mt(t.name,s.name),children:[e.jsx("div",{className:"w-11 h-11 rounded-md overflow-hidden flex-shrink-0",style:{boxShadow:"0 1px 2px rgba(0,0,0,0.06)"},children:e.jsx("img",{src:s.icon,alt:s.name,className:"w-full h-full object-cover",style:{objectPosition:"50% 90%"}})}),e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-font-primary",children:s.name})]},s.name))}),t.uniform&&e.jsxs("div",{className:"flex items-start justify-between gap-4 pt-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-11 h-11 rounded-md overflow-hidden flex-shrink-0",style:{boxShadow:"0 1px 2px rgba(0,0,0,0.06)"},children:e.jsx("img",{src:(Ne.find(s=>s.name===t.uniform)||Ne[0]).icon,alt:t.uniform,className:"w-full h-full object-cover",style:{objectPosition:"50% 90%"}})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-semibold font-manrope leading-[140%] text-font-primary",children:t.uniform})}),e.jsx("p",{className:"text-sm font-normal font-manrope leading-[160%] text-font-secondary mt-1",children:et[t.uniform]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:"text-sm font-normal font-manrope leading-[140%] text-primary-color hover:underline",onClick:()=>L(t.name),children:"Edit"}),e.jsx("button",{className:"text-sm font-normal font-manrope leading-[140%] text-red-500 hover:underline",onClick:()=>ht(t.name),children:"Remove"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 relative",children:[e.jsxs("label",{className:"text-sm font-semibold font-manrope leading-[140%] text-font-primary",children:["Certification ",e.jsx("span",{className:"text-xs font-normal text-font-secondary",children:"(Optional)"})]}),e.jsxs("div",{className:"flex items-center justify-between h-11 px-4 rounded-lg border border-primary-color/10 bg-white cursor-pointer hover:border-primary-color/30 transition-colors",onClick:()=>A(N===t.name?null:t.name),children:[e.jsx("span",{className:`text-sm font-normal font-manrope leading-[140%] ${t.certification?"text-primary-color":"text-font-secondary"}`,children:t.certification||"No certification required"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 6L8 10L12 6",stroke:"#292826",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),N===t.name&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-primary-color/10 rounded-lg shadow-lg z-[999] max-h-[200px] overflow-y-auto",children:st.map(s=>e.jsx("div",{className:"flex items-center gap-3 px-4 py-2.5 cursor-pointer hover:bg-gray-50 border-b border-primary-color/5 last:border-b-0",onClick:()=>ut(t.name,s),children:e.jsx("span",{className:"text-sm font-normal font-manrope leading-[140%] text-font-primary",children:s})},s))}),t.certification&&e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("span",{className:"text-sm font-normal font-manrope leading-[140%] text-font-secondary",children:["Required: ",e.jsx("span",{className:"text-font-primary font-semibold",children:t.certification})]}),e.jsx("button",{className:"text-sm font-normal font-manrope leading-[140%] text-red-500 hover:underline",onClick:()=>ft(t.name),children:"Remove"})]})]})]},t.name))})]}),c===1&&e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold font-manrope leading-[140%] text-font-primary mb-2",children:"Select Venue Location"}),e.jsx("p",{className:"text-sm font-normal font-manrope leading-[140%] text-font-secondary",children:"Search for a venue or select from recently used locations. You can add arrival instructions and parking details."})]}),e.jsx(Yt,{selectedVenue:v,onVenueSelect:xt,onInstructionsUpdate:gt})]}),c===2&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h2",{className:"text-xl font-bold font-manrope leading-[140%] text-font-primary",children:"Schedule"}),e.jsxs("div",{className:"rounded-lg border border-primary-color/20 bg-white shadow-[0_1px_2px_rgba(0,0,0,0.06)] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>{const t=new Date(a);t.setMonth(t.getMonth()-1),n(t)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-font-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h3",{className:"text-lg font-semibold text-font-primary",children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:()=>{const t=new Date(a);t.setMonth(t.getMonth()+1),n(t)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-font-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((t,s)=>e.jsx("div",{className:"text-center text-sm font-medium text-font-secondary py-2",children:t},s))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const t=a.getFullYear(),s=a.getMonth(),u=new Date(t,s,1).getDay(),M=new Date(t,s+1,0).getDate(),h=new Date,z=[];for(let H=0;H<u;H++)z.push(e.jsx("div",{className:"w-10 h-10"},`empty-${H}`));for(let H=1;H<=M;H++){const X=H===a.getDate()&&s===a.getMonth()&&t===a.getFullYear(),G=new Date(t,s,H).toDateString()===h.toDateString();z.push(e.jsx("button",{onClick:()=>{const ye=new Date(t,s,H);n(ye)},style:X?{backgroundColor:"#3A869D",color:"white"}:{},className:`w-10 h-10 rounded-full text-sm font-medium transition-colors ${X?"":G?"bg-gray-100 text-font-primary":"hover:bg-gray-50 text-font-primary"}`,children:H},H))}return z})()})]}),e.jsx("div",{className:"w-full border-t border-dashed border-primary-color/20 mb-4"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-font-primary mb-2",children:"Start time"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>{te(!ne),se(!1),ee(!1)},className:"w-full flex items-center justify-between px-3 py-2 border border-primary-color/20 rounded-lg text-left font-manrope text-sm bg-white focus:outline-none focus:border-primary-color",children:[e.jsx("span",{children:me(o)}),e.jsx("svg",{className:"w-5 h-5 text-font-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),ne&&e.jsx("div",{className:"absolute z-50 mt-1 max-h-64 w-full overflow-auto rounded-lg border border-primary-color/20 bg-white shadow-lg",children:ie.map(t=>e.jsx("button",{onClick:()=>{g(t.value),te(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${o===t.value?"bg-gray-100 text-font-primary":"text-font-primary"}`,children:t.label},t.value))})]})]}),e.jsx("div",{className:"w-full border-t border-dashed border-primary-color/20"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-font-primary mb-2",children:"End time"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>{se(!le),te(!1),ee(!1)},className:"w-full flex items-center justify-between px-3 py-2 border border-primary-color/20 rounded-lg text-left font-manrope text-sm bg-white focus:outline-none focus:border-primary-color",children:[e.jsx("span",{children:me(b)}),e.jsx("svg",{className:"w-5 h-5 text-font-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),le&&e.jsx("div",{className:"absolute z-50 mt-1 max-h-64 w-full overflow-auto rounded-lg border border-primary-color/20 bg-white shadow-lg",children:ie.map(t=>e.jsx("button",{onClick:()=>{Y(t.value),se(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${b===t.value?"bg-gray-100 text-font-primary":"text-font-primary"}`,children:t.label},t.value))})]})]}),e.jsx("div",{className:"w-full border-t border-dashed border-primary-color/20"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-font-primary mb-2",children:"Unpaid breaktime"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>{ee(!K),te(!1),se(!1)},className:"w-full flex items-center justify-between px-3 py-2 border border-primary-color/20 rounded-lg text-left font-manrope text-sm bg-white focus:outline-none focus:border-primary-color",children:[e.jsx("span",{children:T===0?"No break":T===60?"60 minutes":`${T} minutes`}),e.jsx("svg",{className:"w-5 h-5 text-font-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),K&&e.jsx("div",{className:"absolute z-50 mt-1 w-full rounded-lg border border-primary-color/20 bg-white shadow-lg",children:[0,15,30,45,60,90,120].map(t=>e.jsx("button",{onClick:()=>{q(t),ee(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${T===t?"bg-gray-100 text-font-primary":"text-font-primary"}`,children:t===0?"No break":t===60?"60 minutes":`${t} minutes`},t))})]})]})]})]})]}),c===3&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h2",{className:"text-xl font-bold font-manrope leading-[140%] text-font-primary",children:"How to Check-in"}),e.jsxs("div",{className:"rounded-lg p-5 border border-primary-color/30 bg-white shadow-[0_1px_2px_rgba(0,0,0,0.06)]",children:[e.jsx("textarea",{value:ge,onChange:t=>{_e(t.target.value),De(!0)},className:`w-full px-3 py-2 border border-primary-color/20 rounded-lg font-manrope text-sm focus:outline-none focus:border-primary-color resize-none bg-white ${Je?"text-font-primary":"text-font-secondary"}`,rows:3}),e.jsx("div",{className:"w-full border-t border-dashed border-primary-color/20 my-4"}),e.jsx("label",{className:"block text-xs font-semibold text-font-secondary uppercase mb-2 tracking-wide",children:"Shift Supervisor"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("button",{type:"button",onClick:()=>Oe(!Ie),className:"w-full h-10 px-3 pr-9 border border-primary-color/20 rounded-lg text-left text-sm text-font-primary bg-white hover:border-primary-color/40 focus:outline-none focus:border-primary-color",children:fe||"Select Shift Supervisor"}),e.jsx("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-font-secondary",children:"â–¾"}),Ie&&e.jsx("div",{className:"absolute z-[999] mt-1 w-full bg-white border border-primary-color/20 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:Qe.map(t=>e.jsx("div",{className:"px-3 py-2 text-sm cursor-pointer hover:bg-gray-50",onClick:()=>{Me(t),Oe(!1)},children:t},t))})]}),e.jsx("label",{className:"block text-xs font-semibold text-font-secondary uppercase mb-2 tracking-wide",children:"Phone number"}),e.jsx("input",{type:"text",value:he,onChange:t=>{Le(t.target.value),Xe(t.target.value)},placeholder:"123-456-7890",className:`w-full h-10 px-3 border rounded-lg text-sm bg-white focus:outline-none ${we?"border-red-400 focus:border-red-500":"border-primary-color/20 focus:border-primary-color"} text-font-primary placeholder:text-font-secondary`}),we&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:we})]})]}),c===4&&e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("h2",{className:"text-xl font-bold font-manrope leading-[140%] text-font-primary",children:"Event Summary"}),e.jsxs("div",{className:"rounded-lg border border-primary-color/20 bg-white shadow-[0_1px_2px_rgba(0,0,0,0.06)]",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-primary-color/10",children:[e.jsx("span",{className:"text-sm font-semibold text-font-primary",children:"Event Title"}),e.jsx("button",{onClick:()=>U(0),className:"text-sm text-primary-color hover:underline",children:"Edit"})]}),e.jsx("div",{className:"px-5 py-4",children:e.jsx("p",{className:"text-sm text-font-primary",children:re||"No title entered"})})]}),e.jsxs("div",{className:"rounded-lg border border-primary-color/20 bg-white shadow-[0_1px_2px_rgba(0,0,0,0.06)]",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-primary-color/10",children:[e.jsx("span",{className:"text-sm font-semibold text-font-primary",children:"Skill"}),e.jsx("button",{onClick:()=>U(0),className:"text-sm text-primary-color hover:underline",children:"Edit"})]}),e.jsx("div",{className:"px-5 py-4",children:r.length===0?e.jsx("p",{className:"text-sm text-font-secondary",children:"No skills selected."}):e.jsx("div",{className:"flex flex-col gap-6",children:r.map((t,s)=>{var M;const u=(M=be.find(h=>h.name===t.name))==null?void 0:M.icon;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start gap-3",children:[u&&e.jsx("img",{src:u,width:"24",height:"24",alt:t.name,className:"flex-shrink-0 mt-0.5",style:{imageRendering:"crisp-edges"}}),e.jsxs("div",{className:"flex-1 flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-semibold text-font-primary mb-1",children:t.name}),e.jsxs("div",{className:"text-sm text-font-secondary",children:[t.neededWorkers," Workers Needed"]}),t.pay_rate&&e.jsxs("div",{className:"text-sm text-font-secondary",children:["$",t.pay_rate,"/hour"]})]}),e.jsx("p",{className:"text-sm leading-[160%] text-font-secondary",children:t.description}),t.uniform&&e.jsx("p",{className:"text-sm leading-[160%] text-font-secondary",children:t.uniform}),t.certification&&e.jsxs("p",{className:"text-sm leading-[160%] text-font-secondary",children:["Certification Required: ",e.jsx("span",{className:"text-font-primary font-semibold",children:t.certification})]})]})]}),s<r.length-1&&e.jsx("div",{className:"w-full border-t border-primary-color/10 mt-6"})]},t.name)})})})]}),e.jsxs("div",{className:"rounded-lg border border-primary-color/20 bg-white shadow-[0_1px_2px_rgba(0,0,0,0.06)]",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-primary-color/10",children:[e.jsx("span",{className:"text-sm font-semibold text-font-primary",children:"Location"}),e.jsx("button",{onClick:()=>U(1),className:"text-sm text-primary-color hover:underline",children:"Edit"})]}),e.jsx("div",{className:"px-5 py-4",children:v?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-semibold text-font-primary mb-1",children:v.name}),e.jsx("div",{className:"text-sm text-font-secondary",children:v.formatted_address})]}),v.arrival_instructions&&e.jsx("p",{className:"text-sm leading-[160%] text-font-secondary",children:v.arrival_instructions}),v.parking_info&&e.jsx("p",{className:"text-sm leading-[160%] text-font-secondary",children:v.parking_info})]}):e.jsx("p",{className:"text-sm text-font-secondary",children:"No venue selected."})})]}),e.jsxs("div",{className:"rounded-lg border border-primary-color/20 bg-white shadow-[0_1px_2px_rgba(0,0,0,0.06)]",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-primary-color/10",children:[e.jsx("span",{className:"text-sm font-semibold text-font-primary",children:"Schedule"}),e.jsx("button",{onClick:()=>U(2),className:"text-sm text-primary-color hover:underline",children:"Edit"})]}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"text-sm text-font-primary",children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("p",{className:"text-sm text-font-primary",children:[e.jsx("span",{className:"font-medium",children:"Time:"})," ",Q(`1970-01-01 ${o}`).format("h:mm a")," - ",Q(`1970-01-01 ${b}`).format("h:mm a")]}),T>0&&e.jsxs("p",{className:"text-sm text-font-primary",children:[e.jsx("span",{className:"font-medium",children:"Break:"})," ",T," minutes"]})]})})]}),e.jsxs("div",{className:"rounded-lg border border-primary-color/20 bg-white shadow-[0_1px_2px_rgba(0,0,0,0.06)]",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-primary-color/10",children:[e.jsx("span",{className:"text-sm font-semibold text-font-primary",children:"How to Check-in"}),e.jsx("button",{onClick:()=>U(3),className:"text-sm text-primary-color hover:underline",children:"Edit"})]}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"text-sm leading-[160%] text-font-secondary",children:ge}),fe&&he&&e.jsxs("p",{className:"text-sm leading-[160%] text-font-secondary",children:["Shift Supervisor: ",e.jsx("span",{className:"text-font-primary",children:fe})," (",he,")"]})]})})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-3 pt-6 mt-2 border-t border-primary-color/10",children:[e.jsx("div",{children:c>0&&e.jsxs("button",{onClick:at,className:"flex justify-center items-center gap-2.5 px-6 py-2.5 rounded-lg text-sm font-bold font-manrope leading-[140%] text-font-primary border border-gray-300 bg-white hover:bg-gray-50",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10 12L6 8L10 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:rt,className:"flex justify-center items-center gap-2.5 px-6 py-2.5 rounded-lg text-sm font-bold font-manrope leading-[140%] text-font-primary hover:bg-gray-50",children:"Cancel"}),(!S||S&&($==null?void 0:$.status)==="draft")&&e.jsx("button",{onClick:it,disabled:!ue||y,className:`flex justify-center items-center gap-2.5 px-6 py-2.5 min-w-[120px] rounded-lg text-sm font-bold font-manrope leading-[140%] text-font-primary border border-gray-300 bg-white ${ue&&!y?"hover:bg-gray-50":"opacity-50 cursor-not-allowed"}`,children:y?"Savingâ€¦":"Save as Draft"}),e.jsx("button",{onClick:nt,disabled:!ue||ce,className:`flex justify-center items-center gap-2.5 px-6 py-2.5 min-w-[120px] rounded-lg text-sm font-bold font-manrope leading-[140%] text-white ${ue&&!ce?"bg-button-action hover:bg-button-action/90":"bg-gray-300 cursor-not-allowed"}`,children:ce?S?"Updating...":"Creating & Publishing...":c===de.length-1?S?(($==null?void 0:$.status)==="draft","Update Event"):"Create & Publish Event":"Continue"}),S&&c===4&&($==null?void 0:$.status)==="draft"&&e.jsx("button",{onClick:async()=>{if(!ce)try{ve(!0);const t=Intl.DateTimeFormat().resolvedOptions().timeZone,s=je(a),u=(B,G)=>Q.tz(`${B} ${G}`,"YYYY-MM-DD HH:mm",t).utc().toISOString(),M=u(s,o);let h=u(s,b);Q.utc(h).valueOf()<=Q.utc(M).valueOf()&&(h=Q.utc(h).add(1,"day").toISOString());const z=r.map(B=>({skill_name:B.name,needed_workers:B.neededWorkers,description:B.description,uniform_name:B.uniform,certification_name:B.certification||void 0,pay_rate:B.pay_rate||void 0})),H={start_time_utc:M,end_time_utc:h,break_minutes:T},X={title:re||"New Event",status:"published",venue_id:v==null?void 0:v.id,check_in_instructions:ge,supervisor_name:fe,supervisor_phone:he,skill_requirements:z,schedule:H};await ke($.id,X),i("Event updated and published successfully!"),P("/events?tab=active")}catch(t){console.error("Failed to publish event:",t),l("Failed to publish event")}finally{ve(!1)}},disabled:!ue||ce,className:`flex justify-center items-center gap-2.5 px-6 py-2.5 min-w-[120px] rounded-lg text-sm font-bold font-manrope leading-[140%] text-teal-600 border-2 border-teal-600 bg-white ${ue&&!ce?"hover:bg-teal-50":"opacity-50 cursor-not-allowed"}`,children:ce?"Publishingâ€¦":"Publish Event"})]})]})]})]})]}),oe.isVisible&&e.jsx($t,{isVisible:oe.isVisible,message:oe.message,type:oe.type,onClose:()=>m({...oe,isVisible:!1})})]})}export{es as default};
