import{u as ne,a as I,j as e}from"./index-V7KBNItK.js";import{b as re,u as oe,r as o}from"./vendor-D4VeuP1H.js";import{L as K}from"./LoadingSpinner-DnFiJe8I.js";import{S as te,T as ce,C as de}from"./ConfirmationModal-DgBwgcQj.js";import{T as me,X as ee}from"./Toast-Dtf70k40.js";import{P as se}from"./plus-CgkXyFqN.js";import{U as xe}from"./user-CdoTwob2.js";import{C as ue,X as fe}from"./x-circle-B2cQjGGd.js";import{C as ae}from"./calendar-BdSZwbTj.js";import{P as he}from"./pen-square-DIq2sGqg.js";import{f as V,C as ge}from"./index-De8pXn0V.js";import{p as q}from"./index-BSxio-Wb.js";import{B as pe}from"./briefcase-BB_JYmfr.js";import{M as ye}from"./map-pin-CAcHc6MQ.js";import{D as je}from"./dollar-sign-DC0D7f9l.js";function We(){const c=re(),z=oe(),{isAuthenticated:N,isLoading:f}=ne(),[Q,d]=o.useState([]),[A,W]=o.useState(!0),[j,P]=o.useState(""),[D,F]=o.useState("name"),[x,v]=o.useState("all"),[$,_]=o.useState({isOpen:!1}),[Y,O]=o.useState([]),[Z,S]=o.useState(null),[g,E]=o.useState({isOpen:!1}),[T,R]=o.useState(!1),[w,C]=o.useState({isVisible:!1,message:"",type:"success"});o.useEffect(()=>{N&&!f&&k()},[N,f]),o.useEffect(()=>{N&&!f&&z.pathname==="/workers"&&k()},[z.pathname,N,f]);async function k(){W(!0);try{const s=await I.get("/workers");if(s.data.status==="success"){const a=s.data.data||[];d(a)}else d([])}catch(s){console.error("Failed to load workers:",s),d([])}finally{W(!1)}}const B=s=>{E({isOpen:!0,worker:s})},X=async()=>{var s;if(g.worker){R(!0);try{(await I.delete(`/workers/${(s=g.worker)==null?void 0:s.id}`)).data.status==="success"&&(C({isVisible:!0,message:`${g.worker.first_name||"Unknown"} ${g.worker.last_name||"Worker"} has been deleted successfully`,type:"success"}),k(),E({isOpen:!1}))}catch(a){console.error("Failed to delete worker:",a),C({isVisible:!0,message:"Failed to delete worker. Please try again.",type:"error"})}finally{R(!1)}}},p=()=>{E({isOpen:!1})},H=s=>{_({isOpen:!0,worker:s}),O([]),S(null)},M=()=>{_({isOpen:!1})},t=s=>{M(),C({isVisible:!0,message:s||"Worker scheduled successfully",type:"success"}),k()},l=Q.filter(s=>{if(x==="active"&&!s.active||x==="inactive"&&s.active)return!1;if(j){const a=j.toLowerCase();return(s.first_name||"").toLowerCase().includes(a)||(s.last_name||"").toLowerCase().includes(a)||(s.email||"").toLowerCase().includes(a)||(s.phone||"").includes(a)||(s.skills_json||[]).some(n=>(n||"").toLowerCase().includes(a))||(s.certifications||[]).some(n=>((n==null?void 0:n.name)||"").toLowerCase().includes(a))}return!0}).sort((s,a)=>{switch(D){case"name":return`${s.first_name||""} ${s.last_name||""}`.localeCompare(`${a.first_name||""} ${a.last_name||""}`);case"email":return(s.email||"").localeCompare(a.email||"");case"status":return(a.active?1:0)-(s.active?1:0);default:return 0}});return f?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(K,{})}):N?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Workers"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your workforce"})]}),e.jsxs("button",{onClick:()=>c("/workers/create"),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white font-medium rounded-lg hover:bg-teal-700 transition-colors shadow-sm",children:[e.jsx(se,{size:20}),"Add New Worker"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 max-w-md relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search workers by name, email, phone, skills, or certifications",value:j,onChange:s=>P(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),e.jsxs("select",{value:D,onChange:s=>F(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"email",children:"Sort by Email"}),e.jsx("option",{value:"status",children:"Sort by Status"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v("all"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${x==="all"?"bg-teal-100 text-teal-700":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-300"}`,children:"All"}),e.jsx("button",{onClick:()=>v("active"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${x==="active"?"bg-green-100 text-green-700":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-300"}`,children:"Active"}),e.jsx("button",{onClick:()=>v("inactive"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${x==="inactive"?"bg-gray-200 text-gray-700":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-300"}`,children:"Inactive"})]})]}),A?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(K,{})}):l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xe,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:j?"No workers found":"No workers yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:j?"Try adjusting your search or filters":"Add your first worker to get started"}),!j&&e.jsxs("button",{onClick:()=>c("/workers/create"),className:"inline-flex items-center gap-2 px-4 py-2 bg-teal-600 text-white font-medium rounded-lg hover:bg-teal-700 transition-colors",children:[e.jsx(se,{size:20}),"Add Worker"]})]}):e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-700",children:"Worker Name"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-700",children:"Status"}),e.jsx("th",{className:"text-right py-3 px-6 text-sm font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>c(`/workers/${s.id}`),children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-medium",children:[(s.first_name||"U")[0],(s.last_name||"W")[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[s.first_name||"Unknown"," ",s.last_name||"Worker"]}),s.skills_json&&s.skills_json.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[s.skills_json.slice(0,3).map((a,n)=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:a},n)),s.skills_json.length>3&&e.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["+",s.skills_json.length-3]})]})]})]})}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-600",children:s.phone||"—"}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-600",children:s.email}),e.jsx("td",{className:"py-4 px-6",children:s.active?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:[e.jsx(ue,{size:14}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full",children:[e.jsx(fe,{size:14}),"Inactive"]})}),e.jsx("td",{className:"py-4 px-6 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.active&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),H(s)},className:"px-3 py-1.5 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors",title:"Schedule Worker",children:[e.jsx(ae,{size:14,className:"inline mr-1"}),"Schedule"]}),e.jsx("button",{onClick:a=>{a.stopPropagation(),c(`/workers/${s.id}/edit`)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition",title:"Edit",children:e.jsx(he,{size:16})}),e.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),B(s)},className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition",title:"Delete",children:e.jsx(ce,{size:16})})]})})]},s.id))})]})})]}),$.isOpen&&$.worker&&e.jsx(be,{worker:$.worker,onClose:M,onSuccess:t}),e.jsx(de,{isOpen:g.isOpen,onClose:p,onConfirm:X,title:"Delete Worker",message:"Are you sure you want to delete this worker?",confirmText:"Delete Worker",cancelText:"Cancel",isLoading:T,isDestructive:!0,workerName:g.worker?`${g.worker.first_name||"Unknown"} ${g.worker.last_name||"Worker"}`:void 0}),e.jsx(me,{isVisible:w.isVisible,message:w.message,type:w.type,onClose:()=>C({...w,isVisible:!1})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to view workers."})]})})}function be({worker:c,onClose:z,onSuccess:N}){var M;const[f,Q]=o.useState([]),[d,A]=o.useState(new Set),[W,j]=o.useState(!0),[P,D]=o.useState(!1),[F,x]=o.useState(null),[v,$]=o.useState(""),[_,Y]=o.useState("all"),[O,Z]=o.useState([]),[S,g]=o.useState({});o.useEffect(()=>{c&&c.id&&E()},[c==null?void 0:c.id]);async function E(){if(!(!c||!c.id)){j(!0);try{const t=await I.get("/events",{params:{tab:"active",filter:"needs_workers"}});if(t.data.status==="success"){const l=t.data.data,s=[];l.forEach(a=>{if(a&&a.shifts_by_role){const n={id:a.id,title:a.title||"Untitled Event"};a.shifts_by_role.forEach(i=>{var m;if(i&&c.skills_json&&c.skills_json.includes(i.role_name)&&i.filled_shifts<i.total_shifts){const y=(i.shifts||[]).filter(u=>{const U=u.filled_positions||0;return u.capacity>U});if(y.length===0)return;const r=y[0];if(r){const u=y.map(L=>L.id),U={id:r.id,event:n,role_needed:i.role_name,start_time_utc:r.start_time_utc,end_time_utc:r.end_time_utc,location:((m=a.venue)==null?void 0:m.formatted_address)||"Location TBD",current_status:r.status,pay_rate:r.pay_rate,total_positions:i.total_shifts,filled_positions:i.filled_shifts,available_positions:y.reduce((L,b)=>L+(b.capacity-(b.filled_positions||0)),0),all_shift_ids:u};s.push(U)}}})}}),Q(s)}}catch(t){console.error("Failed to load available shifts:",t),x("Failed to load available shifts")}finally{j(!1)}}}const T=t=>{var a;const l=new Set(d),s=f.find(n=>n.id===t);if(s){if(l.has(t))l.delete(t);else{if(Array.from(l).some(i=>{var y,r;const m=f.find(u=>u.id===i);return m&&((y=m.event)==null?void 0:y.id)===((r=s.event)==null?void 0:r.id)&&m.role_needed!==s.role_needed})){x(`Cannot select multiple roles for the same event (${((a=s.event)==null?void 0:a.title)||"Untitled Event"}). Please deselect other roles for this event first.`);return}l.add(t)}A(l),x(null)}},R=(t,l)=>{g(s=>({...s,[t]:l}))},w=()=>{d.size===p.length?A(new Set):A(new Set(p.map(t=>t.id)))};async function C(){var t,l,s,a,n,i,m,y;if(d.size===0){x("Please select at least one shift");return}D(!0),x(null);try{const r=[];f.filter(h=>d.has(h.id)).forEach(h=>{h.all_shift_ids&&r.push(...h.all_shift_ids||[])});const L=[...new Set(r)].map(h=>{const J=f.find(ie=>{var G;return(G=ie.all_shift_ids)==null?void 0:G.includes(h)}),le=S[h]||Number(J==null?void 0:J.pay_rate)||0;return{shift_id:h,worker_id:c.id,hourly_rate:le}}),b=await I.post("/staffing/bulk_create",{assignments:L});if(b.data.status==="success")N(b.data.message);else{let h=b.data.message||"Failed to schedule worker for shifts";b.data.details&&b.data.details.length>0&&(h+=`

Details:
• `+b.data.details.join(`
• `)),x(h)}}catch(r){if(console.error("Failed to bulk assign:",r),(l=(t=r.response)==null?void 0:t.data)!=null&&l.conflicts){Z(((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.conflicts)||[]);let u="Scheduling conflicts detected. Please review below.";r.response.data.details&&r.response.data.details.length>0&&(u+=`

Conflicts:
• `+r.response.data.details.join(`
• `)),x(u)}else{let u=((i=(n=r.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to schedule worker for shifts";(y=(m=r.response)==null?void 0:m.data)!=null&&y.details&&r.response.data.details.length>0&&(u+=`

Details:
• `+r.response.data.details.join(`
• `)),x(u)}}finally{D(!1)}}const k=t=>V(q(t),"EEE, MMM d, yyyy"),B=t=>V(q(t),"h:mm a"),X=c.skills_json||[],p=f.filter(t=>{var l;if(_!=="all"&&t.role_needed!==_)return!1;if(v){const s=v.toLowerCase();return(((l=t.event)==null?void 0:l.title)||"").toLowerCase().includes(s)||(t.location||"").toLowerCase().includes(s)}return!0}),H=t=>Array.from(d).some(s=>{var n,i;const a=f.find(m=>m.id===s);return a&&((n=a.event)==null?void 0:n.id)===((i=t.event)==null?void 0:i.id)&&a.role_needed!==t.role_needed});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Schedule ",c.first_name," ",c.last_name," for Shifts"]}),e.jsx("button",{onClick:z,className:"p-1 text-gray-400 hover:text-gray-600 rounded transition",children:e.jsx(ee,{size:24})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:(M=c.skills_json)==null?void 0:M.map(t=>e.jsx("span",{className:"px-2.5 py-1 bg-teal-100 text-teal-700 text-xs font-medium rounded",children:t},t))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:W?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(K,{})}):e.jsxs(e.Fragment,{children:[F&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[e.jsx(ee,{size:18,className:"text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"text-sm text-red-700",children:F.split(`
`).map((t,l)=>e.jsx("p",{className:t.startsWith("•")?"ml-2":"",children:t},l))})]}),O.length>0&&e.jsxs("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Scheduling Conflicts"}),e.jsx("div",{className:"space-y-2",children:O.map((t,l)=>{var s;return e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"text-yellow-800",children:[e.jsx("strong",{children:((s=t.new_shift)==null?void 0:s.event)||"Unknown Event"})," conflicts with:"]}),e.jsx("ul",{className:"ml-4 mt-1 space-y-1",children:(t.conflicting_with||[]).map((a,n)=>e.jsxs("li",{className:"text-yellow-700",children:[a.event||"Unknown Event"," (",V(q(a.start_time),"MMM d, h:mm a")," - ",V(q(a.end_time),"h:mm a"),")"]},n))})]},l)})})]}),e.jsxs("div",{className:"mb-4 flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search events or locations...",value:v,onChange:t=>$(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),e.jsxs("select",{value:_,onChange:t=>Y(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white",children:[e.jsx("option",{value:"all",children:"All Roles"}),X.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),p.length>0&&e.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.size===p.length&&p.length>0,onChange:w,className:"w-4 h-4 text-teal-600 rounded focus:ring-teal-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select All (",p.length," shifts)"]})]}),d.size>0&&e.jsxs("span",{className:"text-sm font-medium text-teal-600",children:[d.size," selected"]})]}),p.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(pe,{size:48,className:"mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"font-medium",children:"No available shifts found"}),e.jsx("p",{className:"text-sm mt-1",children:v||_!=="all"?"Try adjusting your filters":`No shifts matching ${c.first_name}'s skills need workers`})]}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:p.map(t=>{var n;const l=d.has(t.id),s=H(t),a=s&&!l;return e.jsx("button",{onClick:()=>T(t.id),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${l?"border-teal-600 bg-teal-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",checked:l,disabled:a,onChange:()=>T(t.id),className:`mt-1 w-4 h-4 rounded focus:ring-teal-500 ${a?"text-gray-400 cursor-not-allowed":"text-teal-600"}`,onClick:i=>i.stopPropagation()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${a?"text-gray-500":"text-gray-900"}`,children:((n=t.event)==null?void 0:n.title)||"Untitled Event"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded ${a?"bg-gray-200 text-gray-500":"bg-purple-100 text-purple-700"}`,children:t.role_needed}),t.total_positions&&t.total_positions>1&&e.jsxs("span",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:[t.available_positions," of ",t.total_positions," positions available"]}),s&&!l&&e.jsx("span",{className:"text-xs text-red-600 font-medium",children:"(Conflicts with selected role)"})]})]})}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{size:14,className:"text-gray-400"}),e.jsx("span",{children:k(t.start_time_utc)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:14,className:"text-gray-400"}),e.jsxs("span",{children:[B(t.start_time_utc)," - ",B(t.end_time_utc)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"truncate",children:t.location})]})]})]}),e.jsx("div",{className:"flex flex-col items-end gap-1",onClick:i=>i.stopPropagation(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[S[t.id]&&S[t.id]!==(Number(t.pay_rate)||0)&&e.jsx("span",{className:"text-xs text-amber-600 font-medium",children:"(custom)"}),e.jsx(je,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"Pay:"}),e.jsx("input",{type:"number",step:"1",min:"0",placeholder:(Number(t.pay_rate)||0).toString(),value:S[t.id]!==void 0?S[t.id]:Number(t.pay_rate)||0,onChange:i=>{const m=i.target.value;(m===""||/^\d*\.?\d*$/.test(m))&&R(t.id,parseFloat(m)||0)},className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-teal-500 focus:border-transparent",onMouseDown:i=>i.stopPropagation(),onFocus:i=>i.stopPropagation()}),e.jsx("span",{className:"text-gray-500 text-sm",children:"/hr"})]})})]})},t.id)})})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600",children:d.size>0?e.jsxs("span",{className:"font-medium",children:[d.size," shift",d.size!==1?"s":""," selected"]}):e.jsxs("span",{children:["Select shifts to assign ",c.first_name," to"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:z,disabled:P,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:C,disabled:d.size===0||P,className:"px-6 py-2 bg-teal-600 text-white font-medium rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:P?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Scheduling..."]}):e.jsxs(e.Fragment,{children:["Schedule for ",d.size," Shift",d.size!==1?"s":""]})})]})]})]})})}export{We as WorkersPage};
