import{r,j as e,L as F,e as P,f as W}from"./application.js";import{u as E,g as D,d as U}from"./shiftsApi.js";import{S as M}from"./ShiftStatusBadge.js";import{A as B}from"./AssignWorkerModal.js";import{d as T,F as O,a as I,b as q,c as H}from"./MapPinIcon.js";import{A as Z,u as z}from"./AssignmentStatusBadge.js";import{U as _}from"./user-plus.js";import{C as Q}from"./circle-alert.js";import{U as V}from"./users.js";import{M as X,P as G}from"./phone.js";import{c as L}from"./createLucideIcon.js";import{U as J}from"./user.js";import{F as K,a as Y}from"./DocumentTextIcon.js";import{f as A}from"./format.js";import{p as S}from"./parseISO.js";import"./workersApi.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],se=L("circle-check-big",ee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ae=L("circle-x",te);function re({title:t,titleId:l,...s},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),t?r.createElement("title",{id:l},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const le=r.forwardRef(re);function ie({title:t,titleId:l,...s},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),t?r.createElement("title",{id:l},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const C=r.forwardRef(ie);function ne({title:t,titleId:l,...s},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),t?r.createElement("title",{id:l},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const de=r.forwardRef(ne);function ce({title:t,titleId:l,...s},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),t?r.createElement("title",{id:l},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const oe=r.forwardRef(ce);function me({title:t,titleId:l,...s},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),t?r.createElement("title",{id:l},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const xe=r.forwardRef(me);function he({shift:t,onSuccess:l}){const[s,n]=r.useState(!1),[j,o]=r.useState(""),d={draft:{next:"published",label:"Publish Shift",canProgress:!0},published:{next:"assigned",label:"Mark as Assigned",canProgress:!1},assigned:{next:"completed",label:"Mark as Completed",canProgress:!0},completed:{next:null,label:"Completed",canProgress:!1},cancelled:{next:null,label:"Cancelled",canProgress:!1}}[t.status],c=t.assignments?.length||0,m=c>=t.capacity,f=t.status==="published"&&m,g=f?"assigned":d?.next,y=f?"Mark as Assigned":d?.label,N=async i=>{n(!0),o("");try{await E(t.id,{status:i}),l()}catch(p){o(p?.response?.data?.error||"Failed to update status"),console.error("Error updating status:",p)}finally{n(!1)}},a=async()=>{if(confirm("Are you sure you want to cancel this shift?")){n(!0),o("");try{await E(t.id,{status:"cancelled"}),l()}catch(i){o(i?.response?.data?.error||"Failed to cancel shift"),console.error("Error cancelling shift:",i)}finally{n(!1)}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Current Status"}),e.jsx(M,{status:t.status})]}),e.jsx("div",{className:"space-y-2",children:["draft","published","assigned","completed"].map((i,p)=>{const x=["draft","published","assigned","completed"],w=t.status===i,u=x.indexOf(t.status)>p,v=t.status==="cancelled";return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center flex-shrink-0 ${u||w?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"} ${v?"bg-gray-300":""}`,children:u?e.jsx(T,{className:"h-5 w-5"}):e.jsx("span",{className:"text-sm font-medium",children:p+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium ${w?"text-gray-900":"text-gray-500"}`,children:i.charAt(0).toUpperCase()+i.slice(1)}),w&&i==="published"&&!m&&e.jsxs("div",{className:"text-xs text-yellow-600 mt-1",children:["Need ",t.capacity-c," more ",t.capacity-c===1?"worker":"workers"," to mark as filled"]})]})]},i)})}),j&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(C,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-red-800 text-sm",children:j})]}),t.status!=="completed"&&t.status!=="cancelled"&&e.jsxs("div",{className:"space-y-2",children:[g&&e.jsx("button",{onClick:()=>N(g),disabled:s||t.status==="published"&&!m&&!f,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?"Updating...":e.jsxs(e.Fragment,{children:[y,e.jsx(le,{className:"h-4 w-4"})]})}),e.jsx("button",{onClick:a,disabled:s,className:"w-full px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel Shift"})]}),(t.status==="completed"||t.status==="cancelled")&&e.jsxs("div",{className:"text-sm text-gray-500 text-center py-4",children:["This shift is ",t.status]})]})}const ue=({shift:t,onUpdate:l,onAssignWorker:s})=>{const[n,j]=r.useState(null),o=t.assignments||[],b=t.workers||[],d=a=>b.find(i=>i.id===a.worker_id),c=o.length,m=t.capacity,f=c<m,g=async(a,i)=>{j(a);try{await z(a,i),l()}catch(p){console.error("Error updating status:",p),alert("Failed to update assignment status")}finally{j(null)}},N={assigned:o.filter(a=>a.status==="assigned").length,completed:o.filter(a=>a.status==="completed").length,no_show:o.filter(a=>a.status==="no_show").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Shift Roster"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[c," of ",m," workers assigned"]})]}),f&&e.jsxs("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4"}),"Assign Worker"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.assigned}),e.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Assigned"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.completed}),e.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Completed"})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.no_show}),e.jsx("div",{className:"text-xs text-red-700 mt-1",children:"No Show"})]})]}),f&&t.status==="published"&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Q,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"Understaffed"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Need ",m-c," more ",m-c===1?"worker":"workers"," for this shift."]})]}),e.jsx("button",{onClick:s,className:"bg-yellow-600 text-white px-3 py-1.5 rounded text-sm hover:bg-yellow-700",children:"Assign"})]}),c===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(V,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No workers assigned yet"}),e.jsxs("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 inline-flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4"}),"Assign First Worker"]})]}):e.jsx("div",{className:"space-y-3",children:o.map(a=>{const i=n===a.id;return e.jsx("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsxs("span",{className:"text-blue-600 font-medium",children:[d(a)?.first_name[0]||"?",d(a)?.last_name[0]||"?"]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs(F,{to:`/workers/${a.worker_id}`,className:"font-medium text-gray-900 hover:text-blue-600",children:[d(a)?.first_name||"Unknown"," ",d(a)?.last_name||"Worker"]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-sm text-gray-600",children:[d(a)?.email&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("a",{href:`mailto:${d(a)?.email}`,className:"hover:text-blue-600",children:d(a)?.email})]}),d(a)?.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("a",{href:`tel:${d(a)?.phone}`,className:"hover:text-blue-600",children:d(a)?.phone})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(Z,{status:a.status}),a.status==="assigned"&&e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>g(a.id,"completed"),disabled:i,className:"p-1.5 text-green-600 hover:bg-green-50 rounded disabled:opacity-50",title:"Mark as completed",children:e.jsx(se,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>g(a.id,"no_show"),disabled:i,className:"p-1.5 text-red-600 hover:bg-red-50 rounded disabled:opacity-50",title:"Mark as no-show",children:e.jsx(ae,{className:"h-5 w-5"})})]})]})]})},a.id)})}),f&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-3",children:["Open positions: ",m-c]}),e.jsx("div",{className:"space-y-2",children:Array.from({length:m-c}).map((a,i)=>e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(J,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Position ",c+i+1," available"]})]},i))})]})]})};function Re(){const{id:t}=P(),l=W(),[s,n]=r.useState(null),[j,o]=r.useState(!0),[b,d]=r.useState(""),[c,m]=r.useState(!1),[f,g]=r.useState(!1);r.useEffect(()=>{t&&y(parseInt(t))},[t]);const y=async h=>{try{o(!0);const k=await D(h);n(k.data.shift)}catch(k){d("Failed to load shift"),console.error("Error loading shift:",k)}finally{o(!1)}},N=async()=>{if(t)try{await U(parseInt(t)),l("/shifts")}catch(h){d("Failed to delete shift"),console.error("Error deleting shift:",h)}},a=h=>{try{return A(S(h),"EEEE, MMMM d, yyyy")}catch{return h}},i=h=>{try{return A(S(h),"h:mm a")}catch{return h}},p=(h,k)=>{try{const $=S(h);return`${((S(k).getTime()-$.getTime())/(1e3*60*60)).toFixed(1)} hours`}catch{return"N/A"}};if(j)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading shift..."})});if(b&&!s)return e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-red-800",children:b}),e.jsx("button",{onClick:()=>l("/shifts"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Back to Shifts"})]});if(!s)return null;const x=s.assigned_count||s.assignments?.length||0,w=x<s.capacity,u=s.assignments?.filter(h=>h.status==="completed").length||0,v=Math.round(u/s.capacity*100),R=u>=s.capacity;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>l("/shifts"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(K,{className:"h-5 w-5"})," Back to Shifts"]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.client_name}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx(M,{status:s.status}),e.jsx("span",{className:"text-gray-600",children:s.role_needed})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(F,{to:`/shifts/${s.id}/edit`,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"})," Edit"]}),e.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"})," Delete"]})]})]})]}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:b})}),w&&s.status==="published"&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(C,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-yellow-900",children:"Shift needs more workers"}),e.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:[x," of ",s.capacity," workers assigned. Need ",s.capacity-x," more ",s.capacity-x===1?"worker":"workers","."]})]}),e.jsxs("button",{onClick:()=>g(!0),className:"btn-green flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4"})," Assign Worker"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(O,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Date"}),e.jsx("div",{className:"font-medium text-gray-900",children:a(s.start_time_utc)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(I,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Time"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[i(s.start_time_utc)," - ",i(s.end_time_utc)]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Duration: ",p(s.start_time_utc,s.end_time_utc)]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),e.jsxs("div",{className:"space-y-4",children:[s.location&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(q,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Location"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.location})]})]}),s.pay_rate&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Pay Rate"}),e.jsxs("div",{className:"font-medium text-gray-900",children:["$",s.pay_rate,"/hour"]})]})]}),s.required_certification&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Required Certification"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.required_certification.name})]})]}),s.notes&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Y,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Notes"}),e.jsx("div",{className:"text-gray-900 whitespace-pre-wrap",children:s.notes})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx(ue,{shift:s,onUpdate:()=>{t&&y(parseInt(t))},onAssignWorker:()=>g(!0)})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Workers Needed"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.capacity})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Assigned"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Remaining"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Math.max(0,s.capacity-u)})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Staffing Progress"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${R?"bg-green-600":v>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(v,100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 text-right",children:[v,"% staffed",u<s.capacity&&e.jsxs("span",{className:"text-red-600 ml-2",children:["(",s.capacity-u," more needed)"]}),x>u&&e.jsxs("div",{className:"text-xs text-orange-600 mt-1",children:["(",x-u," no-show",x-u!==1?"s":"",")"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Status Workflow"}),e.jsx(he,{shift:s,onSuccess:()=>{t&&y(parseInt(t))}})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Shift?"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete this shift? This action cannot be undone.",x>0&&e.jsxs("span",{className:"block mt-2 text-red-600 font-medium",children:["Warning: This shift has ",x," assigned ",x===1?"worker":"workers","."]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete Shift"})]})]})}),f&&s&&e.jsx(B,{shift:s,onClose:()=>g(!1),onSuccess:()=>{g(!1),t&&y(parseInt(t))}})]})}export{Re as default};
//# sourceMappingURL=ShiftDetail.js.map
