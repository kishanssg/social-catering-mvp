{"version":3,"file":"useShifts.js","sources":["../src/hooks/useShifts.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { getShifts, type Shift } from '../services/shiftsApi'\n\nexport const useShifts = (filters?: {\n  status?: string\n  start_date?: string\n  end_date?: string\n  role?: string\n}) => {\n  const [shifts, setShifts] = useState<Shift[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  const fetchShifts = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      const response = await getShifts(filters)\n      // Backend returns { status: 'success', data: { shifts: [...] } }\n      const shiftsData = response.data as any\n      setShifts(shiftsData?.shifts || [])\n    } catch (err: any) {\n      setError(err?.response?.data?.error || 'Failed to load shifts')\n      console.error('Error fetching shifts:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchShifts()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify(filters)])\n\n  return { shifts, loading, error, refetch: fetchShifts }\n}\n\n\n"],"names":["useShifts","filters","shifts","setShifts","useState","loading","setLoading","error","setError","fetchShifts","shiftsData","getShifts","err","useEffect"],"mappings":"wEAGO,MAAMA,EAAaC,GAKpB,CACJ,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAkB,CAAA,CAAE,EAC1C,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAwB,IAAI,EAEhDK,EAAc,SAAY,CAC9B,GAAI,CACFH,EAAW,EAAI,EACfE,EAAS,IAAI,EAGb,MAAME,GAFW,MAAMC,EAAUV,CAAO,GAEZ,KAC5BE,EAAUO,GAAY,QAAU,EAAE,CACpC,OAASE,EAAU,CACjBJ,EAASI,GAAK,UAAU,MAAM,OAAS,uBAAuB,EAC9D,QAAQ,MAAM,yBAA0BA,CAAG,CAC7C,QAAA,CACEN,EAAW,EAAK,CAClB,CACF,EAEAO,OAAAA,EAAAA,UAAU,IAAM,CACdJ,EAAA,CAEF,EAAG,CAAC,KAAK,UAAUR,CAAO,CAAC,CAAC,EAErB,CAAE,OAAAC,EAAQ,QAAAG,EAAS,MAAAE,EAAO,QAASE,CAAA,CAC5C"}